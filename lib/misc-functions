#!/bin/bash
#
# miscellaneous functions that don't belong anywhere else


# Handy function to columnise output

awslogin-firefox(){
  local account="${1:?}"
  local url=$(aws-vault login "${account}" -s | jq -s -R -r @uri)
  (nohup firefox "ext+container:name=$account&url=$url" &>/dev/null) &
}

columnise() {
  # Check if no arguments are provided
  if [ $# -eq 0 ]; then
    if ! [[ -t 1 ]]; then
      cat
    else
      column -t -s $'\t'
    fi
  else
    # Loop through all arguments
    for file in "$@"; do
      if [ -e "$file" ]; then
        # Process the file if it exists
        column -t -s $'\t' < "$file"
      else
        # Print an error message if the file doesn't exist
        echo "Error: File '$file' does not exist" >&2
      fi
    done
  fi
}

