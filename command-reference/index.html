
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Command reference for Bash-my-AWS - CLI Tools for AWS. Bash-my-AWS provides short memorable commands for managing resources in Amazon Web Services.">
      
      
        <meta name="author" content="Mike Bailey">
      
      
        <link rel="canonical" href="https://bash-my-aws.org/command-reference/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../cachews-caching-for-awscli/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.3">
    
    
      
        <title>Bash-my-AWS Command Reference - Bash-my-AWS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0e669242.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aws-account-commands" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Bash-my-AWS" class="md-header__button md-logo" aria-label="Bash-my-AWS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bash-my-AWS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bash-my-AWS Command Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bash-my-aws/bash-my-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bash-my-aws/bash-my-aws
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Bash-my-AWS" class="md-nav__button md-logo" aria-label="Bash-my-AWS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Bash-my-AWS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bash-my-aws/bash-my-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bash-my-aws/bash-my-aws
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Command Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Command Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aws-account-commands" class="md-nav__link">
    aws-account-commands
  </a>
  
    <nav class="md-nav" aria-label="aws-account-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-accounts" class="md-nav__link">
    aws-accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-alias" class="md-nav__link">
    aws-account-alias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-id" class="md-nav__link">
    aws-account-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-each" class="md-nav__link">
    aws-account-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-panopticon" class="md-nav__link">
    aws-panopticon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-cost-explorer" class="md-nav__link">
    aws-account-cost-explorer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-cost-recommendations" class="md-nav__link">
    aws-account-cost-recommendations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#region-commands" class="md-nav__link">
    region-commands
  </a>
  
    <nav class="md-nav" aria-label="region-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regions" class="md-nav__link">
    regions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region" class="md-nav__link">
    region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region-each" class="md-nav__link">
    region-each
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stack-commands" class="md-nav__link">
    stack-commands
  </a>
  
    <nav class="md-nav" aria-label="stack-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stacks" class="md-nav__link">
    stacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-arn" class="md-nav__link">
    stack-arn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-cancel-update" class="md-nav__link">
    stack-cancel-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-create" class="md-nav__link">
    stack-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-update" class="md-nav__link">
    stack-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-delete" class="md-nav__link">
    stack-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-exports" class="md-nav__link">
    stack-exports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-recreate" class="md-nav__link">
    stack-recreate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-failure" class="md-nav__link">
    stack-failure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-events" class="md-nav__link">
    stack-events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-resources" class="md-nav__link">
    stack-resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-asgs" class="md-nav__link">
    stack-asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-asg-instances" class="md-nav__link">
    stack-asg-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-elbs" class="md-nav__link">
    stack-elbs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-instances" class="md-nav__link">
    stack-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-parameters" class="md-nav__link">
    stack-parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-status" class="md-nav__link">
    stack-status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tag" class="md-nav__link">
    stack-tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tail" class="md-nav__link">
    stack-tail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-template" class="md-nav__link">
    stack-template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tags" class="md-nav__link">
    stack-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tags-text" class="md-nav__link">
    stack-tags-text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-outputs" class="md-nav__link">
    stack-outputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-validate" class="md-nav__link">
    stack-validate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-diff" class="md-nav__link">
    stack-diff
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance-commands" class="md-nav__link">
    instance-commands
  </a>
  
    <nav class="md-nav" aria-label="instance-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instances" class="md-nav__link">
    instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-asg" class="md-nav__link">
    instance-asg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-az" class="md-nav__link">
    instance-az
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-console" class="md-nav__link">
    instance-console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-dns" class="md-nav__link">
    instance-dns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-health-set-unhealthy" class="md-nav__link">
    instance-health-set-unhealthy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-iam-profile" class="md-nav__link">
    instance-iam-profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ip" class="md-nav__link">
    instance-ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssh" class="md-nav__link">
    instance-ssh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssh-details" class="md-nav__link">
    instance-ssh-details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssm" class="md-nav__link">
    instance-ssm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-rdp" class="md-nav__link">
    instance-rdp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssm-port-forward" class="md-nav__link">
    instance-ssm-port-forward
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stack" class="md-nav__link">
    instance-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-start" class="md-nav__link">
    instance-start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-state" class="md-nav__link">
    instance-state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop" class="md-nav__link">
    instance-stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-subnet" class="md-nav__link">
    instance-subnet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection" class="md-nav__link">
    instance-stop-protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection-disable" class="md-nav__link">
    instance-stop-protection-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection-enable" class="md-nav__link">
    instance-stop-protection-enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tags" class="md-nav__link">
    instance-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag" class="md-nav__link">
    instance-tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag-create" class="md-nav__link">
    instance-tag-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag-delete" class="md-nav__link">
    instance-tag-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-terminate" class="md-nav__link">
    instance-terminate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection" class="md-nav__link">
    instance-termination-protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection-disable" class="md-nav__link">
    instance-termination-protection-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection-enable" class="md-nav__link">
    instance-termination-protection-enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-type" class="md-nav__link">
    instance-type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-userdata" class="md-nav__link">
    instance-userdata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-volumes" class="md-nav__link">
    instance-volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-vpc" class="md-nav__link">
    instance-vpc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asg-commands" class="md-nav__link">
    asg-commands
  </a>
  
    <nav class="md-nav" aria-label="asg-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asg-detach-instances" class="md-nav__link">
    asg-detach-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asgs" class="md-nav__link">
    asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-capacity" class="md-nav__link">
    asg-capacity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-desired-size-set" class="md-nav__link">
    asg-desired-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-instances" class="md-nav__link">
    asg-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-launch-configuration" class="md-nav__link">
    asg-launch-configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-configurations" class="md-nav__link">
    launch-configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-configuration-asgs" class="md-nav__link">
    launch-configuration-asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-max-size-set" class="md-nav__link">
    asg-max-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-min-size-set" class="md-nav__link">
    asg-min-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-processes_suspended" class="md-nav__link">
    asg-processes_suspended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-resume" class="md-nav__link">
    asg-resume
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-suspend" class="md-nav__link">
    asg-suspend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-stack" class="md-nav__link">
    asg-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-scaling-activities" class="md-nav__link">
    asg-scaling-activities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-commands" class="md-nav__link">
    azure-commands
  </a>
  
    <nav class="md-nav" aria-label="azure-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    debug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skim-stdin-tsv" class="md-nav__link">
    skim-stdin-tsv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skim-stdin-bma" class="md-nav__link">
    skim-stdin-bma
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-account" class="md-nav__link">
    az-account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-user" class="md-nav__link">
    az-user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-items" class="md-nav__link">
    az-cache-items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-item" class="md-nav__link">
    az-cache-item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-item-delete" class="md-nav__link">
    az-cache-item-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locations" class="md-nav__link">
    locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location-unset" class="md-nav__link">
    location-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location-each" class="md-nav__link">
    location-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-groups" class="md-nav__link">
    resource-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group" class="md-nav__link">
    resource-group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group-export" class="md-nav__link">
    resource-group-export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group-unset" class="md-nav__link">
    resource-group-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourceids" class="md-nav__link">
    resourceids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-show" class="md-nav__link">
    resource-show
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-diff" class="md-nav__link">
    resource-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-export" class="md-nav__link">
    resource-export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-principals" class="md-nav__link">
    service-principals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#management-groups" class="md-nav__link">
    management-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscriptions" class="md-nav__link">
    subscriptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription" class="md-nav__link">
    subscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription-unset" class="md-nav__link">
    subscription-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription-each" class="md-nav__link">
    subscription-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-groups" class="md-nav__link">
    ad-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-group-members" class="md-nav__link">
    ad-group-members
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-users" class="md-nav__link">
    ad-users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_1" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_2" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-users-graph" class="md-nav__link">
    ad-users-graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-user-groups" class="md-nav__link">
    ad-user-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-user-group-diff" class="md-nav__link">
    ad-user-group-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-apps" class="md-nav__link">
    ad-apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-app" class="md-nav__link">
    ad-app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-app-owners" class="md-nav__link">
    ad-app-owners
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_3" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_4" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_5" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_6" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployments-group" class="md-nav__link">
    deployments-group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afds" class="md-nav__link">
    afds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-endpoints" class="md-nav__link">
    afd-endpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-routes" class="md-nav__link">
    afd-routes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-custom-domains" class="md-nav__link">
    afd-custom-domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-custom-domains-validation-request" class="md-nav__link">
    afd-custom-domains-validation-request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-origin-groups" class="md-nav__link">
    afd-origin-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policies" class="md-nav__link">
    afd-waf-policies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rules" class="md-nav__link">
    afd-waf-policy-rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy" class="md-nav__link">
    afd-waf-policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-match-conditions" class="md-nav__link">
    afd-waf-policy-rule-match-conditions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-match-condition-values" class="md-nav__link">
    afd-waf-policy-rule-match-condition-values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-delete" class="md-nav__link">
    afd-waf-policy-rule-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-groups" class="md-nav__link">
    deployment-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-delete-danger" class="md-nav__link">
    deployment-delete-danger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cert-commands" class="md-nav__link">
    cert-commands
  </a>
  
    <nav class="md-nav" aria-label="cert-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certs" class="md-nav__link">
    certs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-arn" class="md-nav__link">
    certs-arn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-users" class="md-nav__link">
    cert-users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-delete" class="md-nav__link">
    cert-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-ificate" class="md-nav__link">
    cert-ificate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-chain" class="md-nav__link">
    cert-chain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-verify" class="md-nav__link">
    cert-verify
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudfront-commands" class="md-nav__link">
    cloudfront-commands
  </a>
  
    <nav class="md-nav" aria-label="cloudfront-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distributions" class="md-nav__link">
    distributions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudtrail-commands" class="md-nav__link">
    cloudtrail-commands
  </a>
  
    <nav class="md-nav" aria-label="cloudtrail-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudtrails" class="md-nav__link">
    cloudtrails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail-status" class="md-nav__link">
    cloudtrail-status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ecr-commands" class="md-nav__link">
    ecr-commands
  </a>
  
    <nav class="md-nav" aria-label="ecr-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ecr-repositories" class="md-nav__link">
    ecr-repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecr-repository-images" class="md-nav__link">
    ecr-repository-images
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elb-commands" class="md-nav__link">
    elb-commands
  </a>
  
    <nav class="md-nav" aria-label="elb-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elbs" class="md-nav__link">
    elbs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-dnsname" class="md-nav__link">
    elb-dnsname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-instances" class="md-nav__link">
    elb-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-stack" class="md-nav__link">
    elb-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-subnets" class="md-nav__link">
    elb-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-azs" class="md-nav__link">
    elb-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-tags" class="md-nav__link">
    elb-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-tag" class="md-nav__link">
    elb-tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elbv2-commands" class="md-nav__link">
    elbv2-commands
  </a>
  
    <nav class="md-nav" aria-label="elbv2-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elbv2s" class="md-nav__link">
    elbv2s
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-dnsname" class="md-nav__link">
    elbv2-dnsname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-subnets" class="md-nav__link">
    elbv2-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-azs" class="md-nav__link">
    elbv2-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-target-groups" class="md-nav__link">
    elbv2-target-groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iam-commands" class="md-nav__link">
    iam-commands
  </a>
  
    <nav class="md-nav" aria-label="iam-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-roles" class="md-nav__link">
    iam-roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-role-principal" class="md-nav__link">
    iam-role-principal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-users" class="md-nav__link">
    iam-users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-commands" class="md-nav__link">
    image-commands
  </a>
  
    <nav class="md-nav" aria-label="image-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#images" class="md-nav__link">
    images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-deregister" class="md-nav__link">
    image-deregister
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keypair-commands" class="md-nav__link">
    keypair-commands
  </a>
  
    <nav class="md-nav" aria-label="keypair-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keypairs" class="md-nav__link">
    keypairs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypair-create" class="md-nav__link">
    keypair-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypair-delete" class="md-nav__link">
    keypair-delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kms-commands" class="md-nav__link">
    kms-commands
  </a>
  
    <nav class="md-nav" aria-label="kms-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kms-encrypt" class="md-nav__link">
    kms-encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-decrypt" class="md-nav__link">
    kms-decrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-aliases" class="md-nav__link">
    kms-aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-alias-create" class="md-nav__link">
    kms-alias-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-alias-delete" class="md-nav__link">
    kms-alias-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-keys" class="md-nav__link">
    kms-keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-create" class="md-nav__link">
    kms-key-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-details" class="md-nav__link">
    kms-key-details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-disable" class="md-nav__link">
    kms-key-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-enable" class="md-nav__link">
    kms-key-enable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-commands" class="md-nav__link">
    lambda-commands
  </a>
  
    <nav class="md-nav" aria-label="lambda-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda-functions" class="md-nav__link">
    lambda-functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory" class="md-nav__link">
    lambda-function-memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory-set" class="md-nav__link">
    lambda-function-memory-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory-step" class="md-nav__link">
    lambda-function-memory-step
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-logs" class="md-nav__link">
    lambda-function-logs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-commands" class="md-nav__link">
    log-commands
  </a>
  
    <nav class="md-nav" aria-label="log-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-groups" class="md-nav__link">
    log-groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rds-commands" class="md-nav__link">
    rds-commands
  </a>
  
    <nav class="md-nav" aria-label="rds-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rds-db-instances" class="md-nav__link">
    rds-db-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rds-db-clusters" class="md-nav__link">
    rds-db-clusters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route53-commands" class="md-nav__link">
    route53-commands
  </a>
  
    <nav class="md-nav" aria-label="route53-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hosted-zones" class="md-nav__link">
    hosted-zones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hosted-zone-ns-records" class="md-nav__link">
    hosted-zone-ns-records
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-commands" class="md-nav__link">
    s3-commands
  </a>
  
    <nav class="md-nav" aria-label="s3-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buckets" class="md-nav__link">
    buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-acls" class="md-nav__link">
    bucket-acls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-remove" class="md-nav__link">
    bucket-remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-remove-force" class="md-nav__link">
    bucket-remove-force
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secretsmanager-commands" class="md-nav__link">
    secretsmanager-commands
  </a>
  
    <nav class="md-nav" aria-label="secretsmanager-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sts-commands" class="md-nav__link">
    sts-commands
  </a>
  
    <nav class="md-nav" aria-label="sts-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sts-assume-role" class="md-nav__link">
    sts-assume-role
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tag-commands" class="md-nav__link">
    tag-commands
  </a>
  
    <nav class="md-nav" aria-label="tag-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-keys" class="md-nav__link">
    tag-keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag-values" class="md-nav__link">
    tag-values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-group-commands" class="md-nav__link">
    target-group-commands
  </a>
  
    <nav class="md-nav" aria-label="target-group-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#target-groups" class="md-nav__link">
    target-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-group-targets" class="md-nav__link">
    target-group-targets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-commands" class="md-nav__link">
    vpc-commands
  </a>
  
    <nav class="md-nav" aria-label="vpc-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pcxs" class="md-nav__link">
    pcxs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnets" class="md-nav__link">
    subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpcs" class="md-nav__link">
    vpcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-azs" class="md-nav__link">
    vpc-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-az-count" class="md-nav__link">
    vpc-az-count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-lambda-functions" class="md-nav__link">
    vpc-lambda-functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-dhcp-options-ntp" class="md-nav__link">
    vpc-dhcp-options-ntp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-endpoints" class="md-nav__link">
    vpc-endpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-endpoint-services" class="md-nav__link">
    vpc-endpoint-services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-igw" class="md-nav__link">
    vpc-igw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-route-tables" class="md-nav__link">
    vpc-route-tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-nat-gateways" class="md-nav__link">
    vpc-nat-gateways
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-subnets" class="md-nav__link">
    vpc-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-network-acls" class="md-nav__link">
    vpc-network-acls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-rds" class="md-nav__link">
    vpc-rds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-default-delete" class="md-nav__link">
    vpc-default-delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../cachews-caching-for-awscli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cachews (caching for awscli)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../pipe-skimming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipe-Skimming
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../cloudformation-naming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CloudFormation Naming
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../linuxconf2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LCA 2020 Video
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aws-account-commands" class="md-nav__link">
    aws-account-commands
  </a>
  
    <nav class="md-nav" aria-label="aws-account-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-accounts" class="md-nav__link">
    aws-accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-alias" class="md-nav__link">
    aws-account-alias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-id" class="md-nav__link">
    aws-account-id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-each" class="md-nav__link">
    aws-account-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-panopticon" class="md-nav__link">
    aws-panopticon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-cost-explorer" class="md-nav__link">
    aws-account-cost-explorer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-cost-recommendations" class="md-nav__link">
    aws-account-cost-recommendations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#region-commands" class="md-nav__link">
    region-commands
  </a>
  
    <nav class="md-nav" aria-label="region-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regions" class="md-nav__link">
    regions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region" class="md-nav__link">
    region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region-each" class="md-nav__link">
    region-each
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stack-commands" class="md-nav__link">
    stack-commands
  </a>
  
    <nav class="md-nav" aria-label="stack-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stacks" class="md-nav__link">
    stacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-arn" class="md-nav__link">
    stack-arn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-cancel-update" class="md-nav__link">
    stack-cancel-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-create" class="md-nav__link">
    stack-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-update" class="md-nav__link">
    stack-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-delete" class="md-nav__link">
    stack-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-exports" class="md-nav__link">
    stack-exports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-recreate" class="md-nav__link">
    stack-recreate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-failure" class="md-nav__link">
    stack-failure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-events" class="md-nav__link">
    stack-events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-resources" class="md-nav__link">
    stack-resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-asgs" class="md-nav__link">
    stack-asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-asg-instances" class="md-nav__link">
    stack-asg-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-elbs" class="md-nav__link">
    stack-elbs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-instances" class="md-nav__link">
    stack-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-parameters" class="md-nav__link">
    stack-parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-status" class="md-nav__link">
    stack-status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tag" class="md-nav__link">
    stack-tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tail" class="md-nav__link">
    stack-tail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-template" class="md-nav__link">
    stack-template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tags" class="md-nav__link">
    stack-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-tags-text" class="md-nav__link">
    stack-tags-text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-outputs" class="md-nav__link">
    stack-outputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-validate" class="md-nav__link">
    stack-validate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-diff" class="md-nav__link">
    stack-diff
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance-commands" class="md-nav__link">
    instance-commands
  </a>
  
    <nav class="md-nav" aria-label="instance-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instances" class="md-nav__link">
    instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-asg" class="md-nav__link">
    instance-asg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-az" class="md-nav__link">
    instance-az
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-console" class="md-nav__link">
    instance-console
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-dns" class="md-nav__link">
    instance-dns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-health-set-unhealthy" class="md-nav__link">
    instance-health-set-unhealthy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-iam-profile" class="md-nav__link">
    instance-iam-profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ip" class="md-nav__link">
    instance-ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssh" class="md-nav__link">
    instance-ssh
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssh-details" class="md-nav__link">
    instance-ssh-details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssm" class="md-nav__link">
    instance-ssm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-rdp" class="md-nav__link">
    instance-rdp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-ssm-port-forward" class="md-nav__link">
    instance-ssm-port-forward
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stack" class="md-nav__link">
    instance-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-start" class="md-nav__link">
    instance-start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-state" class="md-nav__link">
    instance-state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop" class="md-nav__link">
    instance-stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-subnet" class="md-nav__link">
    instance-subnet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection" class="md-nav__link">
    instance-stop-protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection-disable" class="md-nav__link">
    instance-stop-protection-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-stop-protection-enable" class="md-nav__link">
    instance-stop-protection-enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tags" class="md-nav__link">
    instance-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag" class="md-nav__link">
    instance-tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag-create" class="md-nav__link">
    instance-tag-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-tag-delete" class="md-nav__link">
    instance-tag-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-terminate" class="md-nav__link">
    instance-terminate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection" class="md-nav__link">
    instance-termination-protection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection-disable" class="md-nav__link">
    instance-termination-protection-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-termination-protection-enable" class="md-nav__link">
    instance-termination-protection-enable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-type" class="md-nav__link">
    instance-type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-userdata" class="md-nav__link">
    instance-userdata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-volumes" class="md-nav__link">
    instance-volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-vpc" class="md-nav__link">
    instance-vpc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asg-commands" class="md-nav__link">
    asg-commands
  </a>
  
    <nav class="md-nav" aria-label="asg-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asg-detach-instances" class="md-nav__link">
    asg-detach-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asgs" class="md-nav__link">
    asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-capacity" class="md-nav__link">
    asg-capacity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-desired-size-set" class="md-nav__link">
    asg-desired-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-instances" class="md-nav__link">
    asg-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-launch-configuration" class="md-nav__link">
    asg-launch-configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-configurations" class="md-nav__link">
    launch-configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-configuration-asgs" class="md-nav__link">
    launch-configuration-asgs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-max-size-set" class="md-nav__link">
    asg-max-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-min-size-set" class="md-nav__link">
    asg-min-size-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-processes_suspended" class="md-nav__link">
    asg-processes_suspended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-resume" class="md-nav__link">
    asg-resume
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-suspend" class="md-nav__link">
    asg-suspend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-stack" class="md-nav__link">
    asg-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asg-scaling-activities" class="md-nav__link">
    asg-scaling-activities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-commands" class="md-nav__link">
    azure-commands
  </a>
  
    <nav class="md-nav" aria-label="azure-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    debug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skim-stdin-tsv" class="md-nav__link">
    skim-stdin-tsv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skim-stdin-bma" class="md-nav__link">
    skim-stdin-bma
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-account" class="md-nav__link">
    az-account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-user" class="md-nav__link">
    az-user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-items" class="md-nav__link">
    az-cache-items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-item" class="md-nav__link">
    az-cache-item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#az-cache-item-delete" class="md-nav__link">
    az-cache-item-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locations" class="md-nav__link">
    locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location-unset" class="md-nav__link">
    location-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#location-each" class="md-nav__link">
    location-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-groups" class="md-nav__link">
    resource-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group" class="md-nav__link">
    resource-group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group-export" class="md-nav__link">
    resource-group-export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-group-unset" class="md-nav__link">
    resource-group-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourceids" class="md-nav__link">
    resourceids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-show" class="md-nav__link">
    resource-show
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-diff" class="md-nav__link">
    resource-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-export" class="md-nav__link">
    resource-export
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-principals" class="md-nav__link">
    service-principals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#management-groups" class="md-nav__link">
    management-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscriptions" class="md-nav__link">
    subscriptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription" class="md-nav__link">
    subscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription-unset" class="md-nav__link">
    subscription-unset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscription-each" class="md-nav__link">
    subscription-each
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-groups" class="md-nav__link">
    ad-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-group-members" class="md-nav__link">
    ad-group-members
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-users" class="md-nav__link">
    ad-users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_1" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_2" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-users-graph" class="md-nav__link">
    ad-users-graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-user-groups" class="md-nav__link">
    ad-user-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-user-group-diff" class="md-nav__link">
    ad-user-group-diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-apps" class="md-nav__link">
    ad-apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-app" class="md-nav__link">
    ad-app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ad-app-owners" class="md-nav__link">
    ad-app-owners
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_3" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_4" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_5" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function_6" class="md-nav__link">
    function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployments-group" class="md-nav__link">
    deployments-group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afds" class="md-nav__link">
    afds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-endpoints" class="md-nav__link">
    afd-endpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-routes" class="md-nav__link">
    afd-routes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-custom-domains" class="md-nav__link">
    afd-custom-domains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-custom-domains-validation-request" class="md-nav__link">
    afd-custom-domains-validation-request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-origin-groups" class="md-nav__link">
    afd-origin-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policies" class="md-nav__link">
    afd-waf-policies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rules" class="md-nav__link">
    afd-waf-policy-rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy" class="md-nav__link">
    afd-waf-policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-match-conditions" class="md-nav__link">
    afd-waf-policy-rule-match-conditions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-match-condition-values" class="md-nav__link">
    afd-waf-policy-rule-match-condition-values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afd-waf-policy-rule-delete" class="md-nav__link">
    afd-waf-policy-rule-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-groups" class="md-nav__link">
    deployment-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-delete-danger" class="md-nav__link">
    deployment-delete-danger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cert-commands" class="md-nav__link">
    cert-commands
  </a>
  
    <nav class="md-nav" aria-label="cert-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certs" class="md-nav__link">
    certs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certs-arn" class="md-nav__link">
    certs-arn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-users" class="md-nav__link">
    cert-users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-delete" class="md-nav__link">
    cert-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-ificate" class="md-nav__link">
    cert-ificate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-chain" class="md-nav__link">
    cert-chain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert-verify" class="md-nav__link">
    cert-verify
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudfront-commands" class="md-nav__link">
    cloudfront-commands
  </a>
  
    <nav class="md-nav" aria-label="cloudfront-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distributions" class="md-nav__link">
    distributions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudtrail-commands" class="md-nav__link">
    cloudtrail-commands
  </a>
  
    <nav class="md-nav" aria-label="cloudtrail-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudtrails" class="md-nav__link">
    cloudtrails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail-status" class="md-nav__link">
    cloudtrail-status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ecr-commands" class="md-nav__link">
    ecr-commands
  </a>
  
    <nav class="md-nav" aria-label="ecr-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ecr-repositories" class="md-nav__link">
    ecr-repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecr-repository-images" class="md-nav__link">
    ecr-repository-images
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elb-commands" class="md-nav__link">
    elb-commands
  </a>
  
    <nav class="md-nav" aria-label="elb-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elbs" class="md-nav__link">
    elbs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-dnsname" class="md-nav__link">
    elb-dnsname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-instances" class="md-nav__link">
    elb-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-stack" class="md-nav__link">
    elb-stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-subnets" class="md-nav__link">
    elb-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-azs" class="md-nav__link">
    elb-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-tags" class="md-nav__link">
    elb-tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-tag" class="md-nav__link">
    elb-tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elbv2-commands" class="md-nav__link">
    elbv2-commands
  </a>
  
    <nav class="md-nav" aria-label="elbv2-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elbv2s" class="md-nav__link">
    elbv2s
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-dnsname" class="md-nav__link">
    elbv2-dnsname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-subnets" class="md-nav__link">
    elbv2-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-azs" class="md-nav__link">
    elbv2-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elbv2-target-groups" class="md-nav__link">
    elbv2-target-groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iam-commands" class="md-nav__link">
    iam-commands
  </a>
  
    <nav class="md-nav" aria-label="iam-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-roles" class="md-nav__link">
    iam-roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-role-principal" class="md-nav__link">
    iam-role-principal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-users" class="md-nav__link">
    iam-users
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-commands" class="md-nav__link">
    image-commands
  </a>
  
    <nav class="md-nav" aria-label="image-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#images" class="md-nav__link">
    images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-deregister" class="md-nav__link">
    image-deregister
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keypair-commands" class="md-nav__link">
    keypair-commands
  </a>
  
    <nav class="md-nav" aria-label="keypair-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keypairs" class="md-nav__link">
    keypairs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypair-create" class="md-nav__link">
    keypair-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypair-delete" class="md-nav__link">
    keypair-delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kms-commands" class="md-nav__link">
    kms-commands
  </a>
  
    <nav class="md-nav" aria-label="kms-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kms-encrypt" class="md-nav__link">
    kms-encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-decrypt" class="md-nav__link">
    kms-decrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-aliases" class="md-nav__link">
    kms-aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-alias-create" class="md-nav__link">
    kms-alias-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-alias-delete" class="md-nav__link">
    kms-alias-delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-keys" class="md-nav__link">
    kms-keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-create" class="md-nav__link">
    kms-key-create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-details" class="md-nav__link">
    kms-key-details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-disable" class="md-nav__link">
    kms-key-disable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-key-enable" class="md-nav__link">
    kms-key-enable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-commands" class="md-nav__link">
    lambda-commands
  </a>
  
    <nav class="md-nav" aria-label="lambda-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda-functions" class="md-nav__link">
    lambda-functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory" class="md-nav__link">
    lambda-function-memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory-set" class="md-nav__link">
    lambda-function-memory-set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-memory-step" class="md-nav__link">
    lambda-function-memory-step
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-function-logs" class="md-nav__link">
    lambda-function-logs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-commands" class="md-nav__link">
    log-commands
  </a>
  
    <nav class="md-nav" aria-label="log-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-groups" class="md-nav__link">
    log-groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rds-commands" class="md-nav__link">
    rds-commands
  </a>
  
    <nav class="md-nav" aria-label="rds-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rds-db-instances" class="md-nav__link">
    rds-db-instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rds-db-clusters" class="md-nav__link">
    rds-db-clusters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route53-commands" class="md-nav__link">
    route53-commands
  </a>
  
    <nav class="md-nav" aria-label="route53-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hosted-zones" class="md-nav__link">
    hosted-zones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hosted-zone-ns-records" class="md-nav__link">
    hosted-zone-ns-records
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-commands" class="md-nav__link">
    s3-commands
  </a>
  
    <nav class="md-nav" aria-label="s3-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buckets" class="md-nav__link">
    buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-acls" class="md-nav__link">
    bucket-acls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-remove" class="md-nav__link">
    bucket-remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-remove-force" class="md-nav__link">
    bucket-remove-force
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secretsmanager-commands" class="md-nav__link">
    secretsmanager-commands
  </a>
  
    <nav class="md-nav" aria-label="secretsmanager-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    secrets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sts-commands" class="md-nav__link">
    sts-commands
  </a>
  
    <nav class="md-nav" aria-label="sts-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sts-assume-role" class="md-nav__link">
    sts-assume-role
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tag-commands" class="md-nav__link">
    tag-commands
  </a>
  
    <nav class="md-nav" aria-label="tag-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-keys" class="md-nav__link">
    tag-keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag-values" class="md-nav__link">
    tag-values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-group-commands" class="md-nav__link">
    target-group-commands
  </a>
  
    <nav class="md-nav" aria-label="target-group-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#target-groups" class="md-nav__link">
    target-groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-group-targets" class="md-nav__link">
    target-group-targets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-commands" class="md-nav__link">
    vpc-commands
  </a>
  
    <nav class="md-nav" aria-label="vpc-commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pcxs" class="md-nav__link">
    pcxs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnets" class="md-nav__link">
    subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpcs" class="md-nav__link">
    vpcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-azs" class="md-nav__link">
    vpc-azs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-az-count" class="md-nav__link">
    vpc-az-count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-lambda-functions" class="md-nav__link">
    vpc-lambda-functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-dhcp-options-ntp" class="md-nav__link">
    vpc-dhcp-options-ntp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-endpoints" class="md-nav__link">
    vpc-endpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-endpoint-services" class="md-nav__link">
    vpc-endpoint-services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-igw" class="md-nav__link">
    vpc-igw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-route-tables" class="md-nav__link">
    vpc-route-tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-nat-gateways" class="md-nav__link">
    vpc-nat-gateways
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-subnets" class="md-nav__link">
    vpc-subnets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-network-acls" class="md-nav__link">
    vpc-network-acls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-rds" class="md-nav__link">
    vpc-rds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-default-delete" class="md-nav__link">
    vpc-default-delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Command Reference</h1>

<p>Bash-my-AWS provides over 120 commands for managing AWS Resources but fear not!</p>
<p>Effort has been put into making them <em>discoverable</em>, <em>memorable</em> and hopefully in most
cases <em>obvious</em>.</p>
<p>The reference material below is all extracted from the source of the commands.</p>
<p>Lists in this project are alphabetised except where it makes sense not to.
The first few sets of commands were chosen because they are likely to be of
the most interest to readers.</p>
<div class="admonition note">
<p class="admonition-title">General Rules</p>
<ul>
<li>Commands expect <code>$AWS_DEFAULT_REGION</code> environment variable to be set
  (check/set with <code>region</code> command)</li>
<li>Most commands that list resources (<code>stacks</code>, `instances , etc)
  accept filter term as first arg.<ul>
<li><em>e.g. <code>stacks blah</code> is equivalent to <code>stacks | grep blah</code></em></li>
</ul>
</li>
<li>Most commands accept resource identifiers via STDIN
  (first token of each line)</li>
<li>Resources are generally listed in chronological order of creation.</li>
</ul>
</div>
<h2 id="aws-account-commands">aws-account-commands<a class="headerlink" href="#aws-account-commands" title="Permanent link">&para;</a></h2>
<h3 id="aws-accounts">aws-accounts<a class="headerlink" href="#aws-accounts" title="Permanent link">&para;</a></h3>
<p>List AWS Accounts in an <a href="https://aws.amazon.com/organizations/">Organization</a></p>
<p>$ aws-accounts
   089834043791  account1 ACTIVE  INVITED  1488257653.638  mike-aws@bailey.net.au
   812094344564  account2 ACTIVE  CREATED  1537922950.972  mike-bash-my-aws@bailey.net.au
   001721147249  account3 ACTIVE  INVITED  1548752330.723  mike@bailey.net.au
   867077406134  account4 ACTIVE  CREATED  1557910982.885  mike-deleteme@bailey.net.au
   892345420873  account5 ACTIVE  CREATED  1557911243.358  mike-delete@bailey.net.au</p>
<p><em>Optionally provide a filter string for a <code>| grep</code> effect with tighter columisation:</em></p>
<h3 id="aws-account-alias">aws-account-alias<a class="headerlink" href="#aws-account-alias" title="Permanent link">&para;</a></h3>
<p>Retrieve AWS Account Alias for current account</p>
<div class="codehilite"><pre><span></span><code>$ aws-account-alias
example-account-prod
</code></pre></div>

<h3 id="aws-account-id">aws-account-id<a class="headerlink" href="#aws-account-id" title="Permanent link">&para;</a></h3>
<p>Retrieve AWS Account ID for current account</p>
<div class="codehilite"><pre><span></span><code>$ aws-account-id
012345678901
</code></pre></div>

<h3 id="aws-account-each">aws-account-each<a class="headerlink" href="#aws-account-each" title="Permanent link">&para;</a></h3>
<p>Run a script/command across a number of AWS Accounts</p>
<div class="codehilite"><pre><span></span><code>USAGE: aws-account-each cmd # pipe in AWS_ACCOUNT_IDS

$ grep non_prod AWS_ACCOUNTS | aws-account-each stacks FAILED

# account=012345678901 alias=example-account-prod
example-stack1-prod  CREATED_FAILED
example-stack2-prod  UPDATE_ROLLBACK_FAILED
# account=123456789012 alias=example-account-staging
example-stack1-staging  CREATED_FAILED
example-stack2-staging  UPDATE_ROLLBACK_FAILED
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to use <code>aws-account-each</code>, you need to be authenticated with an
IAM Role that can assume a Role in each of the specified accounts.
Check the source for more info.</p>
</div>
<h3 id="aws-panopticon">aws-panopticon<a class="headerlink" href="#aws-panopticon" title="Permanent link">&para;</a></h3>
<p>aws-panopticon was previous name for aws-account-each()</p>
<h3 id="aws-account-cost-explorer">aws-account-cost-explorer<a class="headerlink" href="#aws-account-cost-explorer" title="Permanent link">&para;</a></h3>
<p>Use with an AWS Organisations Master Account to open multiple accounts
in Cost Explorer.</p>
<div class="codehilite"><pre><span></span><code>$ grep demo AWS_ACCOUNTS | aws-account-cost-explorer
#=&gt; Opens web browser to AWS Cost Explorer with accounts selected
</code></pre></div>

<h3 id="aws-account-cost-recommendations">aws-account-cost-recommendations<a class="headerlink" href="#aws-account-cost-recommendations" title="Permanent link">&para;</a></h3>
<p>Use with an AWS Organisations Master Account to open multiple accounts
in Cost Recommendations.</p>
<div class="codehilite"><pre><span></span><code>$ grep non_prod AWS_ACCOUNTS | aws-account-each stacks FAILED
#=&gt; Opens web browser to AWS Cost Recommendations with accounts selected
</code></pre></div>

<h2 id="region-commands">region-commands<a class="headerlink" href="#region-commands" title="Permanent link">&para;</a></h2>
<h3 id="regions">regions<a class="headerlink" href="#regions" title="Permanent link">&para;</a></h3>
<p>List regions</p>
<p>The region() function must be sourced in order to update the
AWS_DEFAULT_REGION environment variable. This is because it
cannot update an environment variable when run as a subprocess.</p>
<div class="codehilite"><pre><span></span><code>$ regions
ap-northeast-1
ap-northeast-2
ap-south-1
ap-southeast-1
ap-southeast-2
...
us-west-2
</code></pre></div>

<h3 id="region">region<a class="headerlink" href="#region" title="Permanent link">&para;</a></h3>
<p>Get/Set <code>$AWS_DEFAULT_REGION</code> shell environment variable</p>
<div class="codehilite"><pre><span></span><code>$ region
us-east-1

$ region ap-southeast-2

$ region
ap-southeast-2
</code></pre></div>

<h3 id="region-each">region-each<a class="headerlink" href="#region-each" title="Permanent link">&para;</a></h3>
<p>Run a command in every region.
Any output lines will be appended with "#${REGION}".</p>
<div class="codehilite"><pre><span></span><code>$ region-each stacks
example-ec2-ap-northeast-1  CREATE_COMPLETE  2011-05-23T15:47:44Z  NEVER_UPDATED  NOT_NESTED  #ap-northeast-1
example-ec2-ap-northeast-2  CREATE_COMPLETE  2011-05-23T15:47:44Z  NEVER_UPDATED  NOT_NESTED  #ap-northeast-2
...
example-ec2-us-west-2       CREATE_COMPLETE  2011-05-23T15:47:44Z  NEVER_UPDATED  NOT_NESTED  #us-west-2
</code></pre></div>

<h2 id="stack-commands">stack-commands<a class="headerlink" href="#stack-commands" title="Permanent link">&para;</a></h2>
<h3 id="stacks">stacks<a class="headerlink" href="#stacks" title="Permanent link">&para;</a></h3>
<p>List CloudFormation stacks.</p>
<p>To make it fly we omit stacks with status of DELETE_COMPLETE
Output is sorted by CreationTime</p>
<div class="codehilite"><pre><span></span><code>$ stacks
nagios          CREATE_COMPLETE  2018-03-12T11:41:31Z  NEVER_UPDATED  NOT_NESTED
postgres1       CREATE_COMPLETE  2019-04-14T15:22:44Z  NEVER_UPDATED  NOT_NESTED
postgres2       CREATE_COMPLETE  2019-05-18T05:45:50Z  NEVER_UPDATED  NOT_NESTED
prometheus-web  CREATE_COMPLETE  2019-11-23T15:57:04Z  NEVER_UPDATED  NOT_NESTED
</code></pre></div>

<p><em>Provide a filter string for a <code>| grep</code> effect with tighter columisation:</em></p>
<div class="codehilite"><pre><span></span><code>$ stacks postgres
postgres1  CREATE_COMPLETE  2019-04-14T15:22:44Z  NEVER_UPDATED  NOT_NESTED
postgres2  CREATE_COMPLETE  2019-05-18T05:45:50Z  NEVER_UPDATED  NOT_NESTED
</code></pre></div>

<h3 id="stack-arn">stack-arn<a class="headerlink" href="#stack-arn" title="Permanent link">&para;</a></h3>
<p>Returns ARN(s) for stacks.</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-arn stack [stack]

$ stack-arn prometheus-web
arn:aws:cloudformation:us-east-1:000000000000:stack/prometheus-web/805e081c-b8eb-4f6c-9872-2b5cddc77fba
</code></pre></div>

<p><em>Supports multiple stack names from STDIN</em>:</p>
<div class="codehilite"><pre><span></span><code>$ stacks | stack-arn
arn:aws:cloudformation:us-east-1:000000000000:stack/nagios/c0f0ef04-b505-4c0c-87cd-ca924153ad1c
arn:aws:cloudformation:us-east-1:000000000000:stack/postgres1/758b0ba2-60f2-4432-8935-f79f47708f23
arn:aws:cloudformation:us-east-1:000000000000:stack/postgres2/7420bbd4-3026-444f-b55b-fa0a9d564730
arn:aws:cloudformation:us-east-1:000000000000:stack/prometheus-web/805e081c-b8eb-4f6c-9872-2b5cddc77fba
</code></pre></div>

<h3 id="stack-cancel-update">stack-cancel-update<a class="headerlink" href="#stack-cancel-update" title="Permanent link">&para;</a></h3>
<p>Cancel an in-progress stack update</p>
<h3 id="stack-create">stack-create<a class="headerlink" href="#stack-create" title="Permanent link">&para;</a></h3>
<p>Create a CloudFormation Stack</p>
<p><em>See suggested <a href="/cloudformation-naming/">CloudFormation File Naming Conventions</a>
to take advantage of shorter commands</em></p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-create stack [template-file] [parameters-file]             \
            [--capabilities=OPTIONAL_VALUE] [--role-arn=OPTIONAL_VALUE]

$ stack-create params/asg-params-prod.json
Resolved arguments: asg-prod ./asg.yml params/asg-params-prod.json
arn:aws:cloudformation:ap-southeast-2:812094344564:stack/asg-prod/98d40130-23f2-11ea-b7c1-06494f833672
----------------------------------------------------------------------------------------------
|                                     DescribeStackEvents                                    |
+---------------------------+-----------+------------------------------+---------------------+
|  2019-12-21T13:05:44.261Z |  asg-prod |  AWS::CloudFormation::Stack  |  CREATE_IN_PROGRESS |
--------------------------------------------------------------------------------------------------------------------
|                                                DescribeStackEvents                                               |
+--------------------------+----------------------+-----------------------------------------+----------------------+
|  2019-12-21T13:05:44.261Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:48.351Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:48.828Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:49.187Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_COMPLETE     |
|  2019-12-21T13:05:51.230Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:51.837Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:52.950Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_COMPLETE     |
|  2019-12-21T13:05:54.493Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_COMPLETE     |
+--------------------------+----------------------+-----------------------------------------+----------------------+
</code></pre></div>

<h3 id="stack-update">stack-update<a class="headerlink" href="#stack-update" title="Permanent link">&para;</a></h3>
<p>Update a CloudFormation Stack</p>
<p><em>See suggested <a href="/cloudformation-naming/">CloudFormation File Naming Conventions</a>
to take advantage of shorter commands</em></p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-update stack [template-file] [parameters-file] \
              [--capabilities=OPTIONAL_VALUE] [--role-arn=OPTIONAL_VALUE]

$ stack-update params/asg-params-prod.json
Resolved arguments: asg-prod ./asg.yml params/asg-params-prod.json
arn:aws:cloudformation:ap-southeast-2:812094344564:stack/asg-prod/98d40130-23f2-11ea-b7c1-06494f833672
--------------------------------------------------------------------------------------------------------------------
|                                                DescribeStackEvents                                               |
+--------------------------+----------------------+-----------------------------------------+----------------------+
|  2019-12-21T13:05:44.261Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:48.351Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:48.828Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:49.187Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_COMPLETE     |
|  2019-12-21T13:05:51.230Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:51.837Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS  |
|  2019-12-21T13:05:52.950Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_COMPLETE     |
|  2019-12-21T13:05:54.493Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_COMPLETE     |
|  2019-12-21T13:12:43.731Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_IN_PROGRESS  |
|  2019-12-21T13:12:48.294Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  UPDATE_IN_PROGRESS  |
-------------------------------------------------------------------------------------------------------------------------------------
|                                                        DescribeStackEvents                                                        |
+--------------------------+----------------------+-----------------------------------------+---------------------------------------+
|  2019-12-21T13:05:44.261Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:48.351Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:48.828Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:49.187Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_COMPLETE                      |
|  2019-12-21T13:05:51.230Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:51.837Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:52.950Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_COMPLETE                      |
|  2019-12-21T13:05:54.493Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_COMPLETE                      |
|  2019-12-21T13:12:43.731Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_IN_PROGRESS                   |
|  2019-12-21T13:12:48.294Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  UPDATE_IN_PROGRESS                   |
|  2019-12-21T13:14:05.182Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  UPDATE_COMPLETE                      |
|  2019-12-21T13:14:07.118Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_COMPLETE_CLEANUP_IN_PROGRESS  |
|  2019-12-21T13:14:07.820Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_COMPLETE                      |
+--------------------------+----------------------+-----------------------------------------+---------------------------------------+
</code></pre></div>

<h3 id="stack-delete">stack-delete<a class="headerlink" href="#stack-delete" title="Permanent link">&para;</a></h3>
<p>Delete a CloudFormation Stack</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-delete stack [stack]

$ stacks | stack-delete
You are about to delete the following stacks:
asg-prod
Are you sure you want to continue? y
-------------------------------------------------------------------------------------------------------------------------------------
|                                                        DescribeStackEvents                                                        |
+--------------------------+----------------------+-----------------------------------------+---------------------------------------+
|  2019-12-21T13:05:44.261Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:48.351Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:48.828Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:49.187Z|  LaunchConfiguration |  AWS::AutoScaling::LaunchConfiguration  |  CREATE_COMPLETE                      |
|  2019-12-21T13:05:51.230Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:51.837Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_IN_PROGRESS                   |
|  2019-12-21T13:05:52.950Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  CREATE_COMPLETE                      |
|  2019-12-21T13:05:54.493Z|  asg-prod            |  AWS::CloudFormation::Stack             |  CREATE_COMPLETE                      |
|  2019-12-21T13:12:43.731Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_IN_PROGRESS                   |
|  2019-12-21T13:12:48.294Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  UPDATE_IN_PROGRESS                   |
|  2019-12-21T13:14:05.182Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  UPDATE_COMPLETE                      |
|  2019-12-21T13:14:07.118Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_COMPLETE_CLEANUP_IN_PROGRESS  |
|  2019-12-21T13:14:07.820Z|  asg-prod            |  AWS::CloudFormation::Stack             |  UPDATE_COMPLETE                      |
|  2019-12-21T13:18:06.709Z|  asg-prod            |  AWS::CloudFormation::Stack             |  DELETE_IN_PROGRESS                   |
|  2019-12-21T13:18:08.931Z|  AutoScalingGroup    |  AWS::AutoScaling::AutoScalingGroup     |  DELETE_IN_PROGRESS                   |

An error occurred (ValidationError) when calling the DescribeStackEvents operation: Stack [asg-prod] does not exist
</code></pre></div>

<p><em>Note that the error reported at the end of <code>stack-delete</code> command is just AWSCLI saying it can't find the stack anymore.</em></p>
<h3 id="stack-exports">stack-exports<a class="headerlink" href="#stack-exports" title="Permanent link">&para;</a></h3>
<h3 id="stack-recreate">stack-recreate<a class="headerlink" href="#stack-recreate" title="Permanent link">&para;</a></h3>
<h3 id="stack-failure">stack-failure<a class="headerlink" href="#stack-failure" title="Permanent link">&para;</a></h3>
<p>Return reason a stack failed to update/create/delete</p>
<h3 id="stack-events">stack-events<a class="headerlink" href="#stack-events" title="Permanent link">&para;</a></h3>
<p>List event history for a single Stack</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-events stack
</code></pre></div>

<h3 id="stack-resources">stack-resources<a class="headerlink" href="#stack-resources" title="Permanent link">&para;</a></h3>
<p>List all resources in Stack(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-resources stack [stack]

$ stacks | stack-resources
i-7d54924538baa7a1f  AWS::EC2::Instance  ec2
i-c54279c6055c3c794  AWS::EC2::Instance  nagios
i-a8b8dd6783e1a40cc  AWS::EC2::Instance  postgres1
i-5d74753e210bfe04d  AWS::EC2::Instance  postgres2
i-2aa95cc214a461398  AWS::EC2::Instance  prometheus-web
</code></pre></div>

<h3 id="stack-asgs">stack-asgs<a class="headerlink" href="#stack-asgs" title="Permanent link">&para;</a></h3>
<p>List ASGs in Stack(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-asgs stack [stack]

$ stacks | stack-asgs
asg-bash-my-aws-AutoScalingGroup-MSBCWRTI3PVM  AWS::AutoScaling::AutoScalingGroup  asg-bash-my-aws
asg2-AutoScalingGroup-1FHUVUJ7SLPU7            AWS::AutoScaling::AutoScalingGroup  asg2
</code></pre></div>

<h3 id="stack-asg-instances">stack-asg-instances<a class="headerlink" href="#stack-asg-instances" title="Permanent link">&para;</a></h3>
<p>List EC2 Instances of EC2 Autoscaling Groups in Stack(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-asg-instances stack [stack]

$ stacks | stack-asg-instances
i-06ee900565652ecc5  ami-0119aa4d67e59007c  t3.nano  running  asg-bash-my-aws  2019-12-13T03:15:22.000Z  ap-southeast-2c  vpc-deb8edb9
i-01c7edb986c18c16a  ami-0119aa4d67e59007c  t3.nano  running  asg2             2019-12-13T03:37:51.000Z  ap-southeast-2c  vpc-deb8edb9
</code></pre></div>

<h3 id="stack-elbs">stack-elbs<a class="headerlink" href="#stack-elbs" title="Permanent link">&para;</a></h3>
<p>List EC2 Elastic Load Balancers in Stack(s)</p>
<p>USAGE: stack-elbs stack [stack]</p>
<div class="codehilite"><pre><span></span><code>$ stacks | stack-elbs
elb-MyLoadBalancer-NA5S72MLA5KI   AWS::ElasticLoadBalancing::LoadBalancer  elb-stack-1
load-bala-MyLoadBa-11HZ0DHUHJZZI  AWS::ElasticLoadBalancing::LoadBalancer  elb-stack-2
</code></pre></div>

<h3 id="stack-instances">stack-instances<a class="headerlink" href="#stack-instances" title="Permanent link">&para;</a></h3>
<p>List instances in stack(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-instances stack [stack]

$ stacks | stack-instances
i-7d54924538baa7a1f  ami-123456789012  t3.nano  stopped  ec2             2019-12-11T09:31:03.000Z  ap-southeast-2a  None
i-c54279c6055c3c794  ami-123456789012  t3.nano  running  nagios          2019-12-13T02:24:30.000Z  ap-southeast-2a  None
i-a8b8dd6783e1a40cc  ami-123456789012  t3.nano  running  postgres1       2019-12-13T02:24:32.000Z  ap-southeast-2a  None
i-5d74753e210bfe04d  ami-123456789012  t3.nano  running  postgres2       2019-12-13T02:24:34.000Z  ap-southeast-2a  None
i-2aa95cc214a461398  ami-123456789012  t3.nano  running  prometheus-web  2019-12-13T02:24:36.000Z  ap-southeast-2a  None
</code></pre></div>

<h3 id="stack-parameters">stack-parameters<a class="headerlink" href="#stack-parameters" title="Permanent link">&para;</a></h3>
<p>List parameters of stack</p>
<h3 id="stack-status">stack-status<a class="headerlink" href="#stack-status" title="Permanent link">&para;</a></h3>
<p>List status of stack</p>
<h3 id="stack-tag">stack-tag<a class="headerlink" href="#stack-tag" title="Permanent link">&para;</a></h3>
<p>Return selected stack tag</p>
<h3 id="stack-tail">stack-tail<a class="headerlink" href="#stack-tail" title="Permanent link">&para;</a></h3>
<p>Show all events for CF stack until update completes or fails.</p>
<h3 id="stack-template">stack-template<a class="headerlink" href="#stack-template" title="Permanent link">&para;</a></h3>
<p>Return template of a stack</p>
<h3 id="stack-tags">stack-tags<a class="headerlink" href="#stack-tags" title="Permanent link">&para;</a></h3>
<p>List stack-tags applied to a stack</p>
<h3 id="stack-tags-text">stack-tags-text<a class="headerlink" href="#stack-tags-text" title="Permanent link">&para;</a></h3>
<p>List stack-tags applied to a stack on a single line</p>
<h3 id="stack-outputs">stack-outputs<a class="headerlink" href="#stack-outputs" title="Permanent link">&para;</a></h3>
<p>List outputs of a stack</p>
<h3 id="stack-validate">stack-validate<a class="headerlink" href="#stack-validate" title="Permanent link">&para;</a></h3>
<p>Validate a stack template</p>
<h3 id="stack-diff">stack-diff<a class="headerlink" href="#stack-diff" title="Permanent link">&para;</a></h3>
<p>Compare live stack against local template (and optional params file)</p>
<div class="codehilite"><pre><span></span><code>USAGE: stack-diff stack [template-file]

$ stack-diff params/asg-params-prod.json
Resolved arguments: asg-prod ./asg.yml params/asg-params-prod.json
template for stack (asg-prod) and contents of file (./asg.yml) are the same

Resolved arguments: asg-prod ./asg.yml params/asg-params-prod.json
--- params
+++ params/asg-params-prod.json
@@ -1,11 +1,11 @@
 [
   {
     &quot;ParameterKey&quot;: &quot;AsgMaxSize&quot;,
-    &quot;ParameterValue&quot;: &quot;5&quot;
+    &quot;ParameterValue&quot;: &quot;2&quot;
   },
   {
     &quot;ParameterKey&quot;: &quot;AsgMinSize&quot;,
-    &quot;ParameterValue&quot;: &quot;0&quot;
+    &quot;ParameterValue&quot;: &quot;1&quot;
   },
   {
     &quot;ParameterKey&quot;: &quot;InstanceType&quot;,
</code></pre></div>

<p>report changes which would be made to stack if template were applied
report on what changes would be made to stack by applying params
Derive and check arguments for:</p>
<ul>
<li>stack-create</li>
<li>stack-delete</li>
<li>stack-diff</li>
</ul>
<p>In the interests of making the functions simple and a shallow read,
it's unusual for us to abstract out shared code like this.
This bit is doing some funky stuff though and I think it deserves
to go in it's own function to DRY (Don't Repeat Yourself) it up a bit.</p>
<p>This function takes the unusual approach of writing to variables of the
calling function:</p>
<ul>
<li>stack</li>
<li>template</li>
<li>params</li>
</ul>
<p>This is generally not good practice for readability and unexpected outcomes.
To contain this, the calling functions all clearly declare these three
variables as local and contain a comment that they will be set by this function.</p>
<p>If we are working from a single argument (ignore args starting with <code>--</code>)
Strip path and extension from template
Deduce params filename from stack and template names
Strip path and extension from template
File extension gets stripped off if template name provided as stack name
Determine name of template to use
determine name of params file to use
determine what (if any) capabilities a given stack was deployed with</p>
<h2 id="instance-commands">instance-commands<a class="headerlink" href="#instance-commands" title="Permanent link">&para;</a></h2>
<h3 id="instances">instances<a class="headerlink" href="#instances" title="Permanent link">&para;</a></h3>
<p>List EC2 Instances</p>
<div class="codehilite"><pre><span></span><code>$ instances
i-4e15ece1de1a3f869  ami-123456789012  t3.nano  running  nagios          2019-12-10T08:17:18.000Z  ap-southeast-2a  None
i-89cefa9403373d7a5  ami-123456789012  t3.nano  running  postgres1       2019-12-10T08:17:20.000Z  ap-southeast-2a  None
i-806d8f1592e2a2efd  ami-123456789012  t3.nano  running  postgres2       2019-12-10T08:17:22.000Z  ap-southeast-2a  None
i-61e86ac6be1e2c193  ami-123456789012  t3.nano  running  prometheus-web  2019-12-10T08:17:24.000Z  ap-southeast-2a  None
</code></pre></div>

<p><em>Optionally provide a filter string for a <code>| grep</code> effect with tighter columisation:</em></p>
<div class="codehilite"><pre><span></span><code>$ instances postgres
i-89cefa9403373d7a5  ami-123456789012  t3.nano  running  postgres1  2019-12-10T08:17:20.000Z  ap-southeast-2a  None
i-806d8f1592e2a2efd  ami-123456789012  t3.nano  running  postgres2  2019-12-10T08:17:22.000Z  ap-southeast-2a  None
</code></pre></div>

<h3 id="instance-asg">instance-asg<a class="headerlink" href="#instance-asg" title="Permanent link">&para;</a></h3>
<p>List autoscaling group membership of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-asg instance-id [instance-id]
</code></pre></div>

<h3 id="instance-az">instance-az<a class="headerlink" href="#instance-az" title="Permanent link">&para;</a></h3>
<p>List availability zone of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-az instance-id [instance-id]

$ instances postgres | instance-az
i-89cefa9403373d7a5  ap-southeast-2a
i-806d8f1592e2a2efd  ap-southeast-2a
</code></pre></div>

<h3 id="instance-console">instance-console<a class="headerlink" href="#instance-console" title="Permanent link">&para;</a></h3>
<p>List console output of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-console instance-id [instance-id]

$ instances postgres | instance-console
Console output for EC2 Instance i-89cefa9403373d7a5
Linux version 2.6.16-xenU (builder@patchbat.amazonsa) (gcc version 4.0.1 20050727 (Red Hat 4.0.1-5)) #1 SMP Thu Oct 26 08:41:26 SAST 2006
BIOS-provided physical RAM map:
Xen: 0000000000000000 - 000000006a400000 (usable)
...snip...

Console output for EC2 Instance i-806d8f1592e2a2efd
Linux version 2.6.16-xenU (builder@patchbat.amazonsa) (gcc version 4.0.1 20050727 (Red Hat 4.0.1-5)) #1 SMP Thu Oct 26 08:41:26 SAST 2006
BIOS-provided physical RAM map:
Xen: 0000000000000000 - 000000006a400000 (usable)
...snip...
</code></pre></div>

<h3 id="instance-dns">instance-dns<a class="headerlink" href="#instance-dns" title="Permanent link">&para;</a></h3>
<p>List DNS name of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-dns instance-id [instance-id]

$ instances postgres | instance-dns
i-89cefa9403373d7a5  ip-10-155-35-61.ap-southeast-2.compute.internal   ec2-54-214-206-114.ap-southeast-2.compute.amazonaws.com
i-806d8f1592e2a2efd  ip-10-178-243-63.ap-southeast-2.compute.internal  ec2-54-214-244-90.ap-southeast-2.compute.amazonaws.com
</code></pre></div>

<h3 id="instance-health-set-unhealthy">instance-health-set-unhealthy<a class="headerlink" href="#instance-health-set-unhealthy" title="Permanent link">&para;</a></h3>
<p>Mark EC2 Instance(s) as unhealthy (to trigger replacement by ASG)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-health-set-unhealthy instance-id [instance-id]
</code></pre></div>

<h3 id="instance-iam-profile">instance-iam-profile<a class="headerlink" href="#instance-iam-profile" title="Permanent link">&para;</a></h3>
<p>List iam-profile of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-iam-profile instance-id [instance-id]
</code></pre></div>

<h3 id="instance-ip">instance-ip<a class="headerlink" href="#instance-ip" title="Permanent link">&para;</a></h3>
<p>List ip address of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-ip instance-id [instance-id]

$ instances postgres | instance-ip
i-89cefa9403373d7a5  10.155.35.61   54.214.206.114
i-806d8f1592e2a2efd  10.178.243.63  54.214.244.90
</code></pre></div>

<h3 id="instance-ssh">instance-ssh<a class="headerlink" href="#instance-ssh" title="Permanent link">&para;</a></h3>
<p>Establish SSH connection to EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-ssh [login] [instance-id] [instance-id]
</code></pre></div>

<h3 id="instance-ssh-details">instance-ssh-details<a class="headerlink" href="#instance-ssh-details" title="Permanent link">&para;</a></h3>
<p>List details needed to SSH into EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-ssh-details [login] [instance-id] [instance-id]
</code></pre></div>

<h3 id="instance-ssm">instance-ssm<a class="headerlink" href="#instance-ssm" title="Permanent link">&para;</a></h3>
<p>Establish SSM connection to EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-ssm instance-id [instance-id]
</code></pre></div>

<h3 id="instance-rdp">instance-rdp<a class="headerlink" href="#instance-rdp" title="Permanent link">&para;</a></h3>
<h3 id="instance-ssm-port-forward">instance-ssm-port-forward<a class="headerlink" href="#instance-ssm-port-forward" title="Permanent link">&para;</a></h3>
<p>Create tunnel from localhost to remote EC2 instance</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-ssm-port-forward local_port_number port_number instance-id [instance-id]
</code></pre></div>

<h3 id="instance-stack">instance-stack<a class="headerlink" href="#instance-stack" title="Permanent link">&para;</a></h3>
<p>List CloudFormation stack EC2 Instance(s) belong to (if any)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-stack instance-id [instance-id]

$ instances postgres | instance-stack
postgres1  i-89cefa9403373d7a5
postgres2  i-806d8f1592e2a2efd
</code></pre></div>

<h3 id="instance-start">instance-start<a class="headerlink" href="#instance-start" title="Permanent link">&para;</a></h3>
<p>Start stopped EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-start instance-id [instance-id]

$ instances postgres | instance-start
i-a8b8dd6783e1a40cc  PreviousState=stopped  CurrentState=pending
i-5d74753e210bfe04d  PreviousState=stopped  CurrentState=pending
</code></pre></div>

<h3 id="instance-state">instance-state<a class="headerlink" href="#instance-state" title="Permanent link">&para;</a></h3>
<p>List state of EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-state instance-id [instance-id]

$ instances postgres | instance-state
i-89cefa9403373d7a5  running
i-806d8f1592e2a2efd  running
</code></pre></div>

<h3 id="instance-stop">instance-stop<a class="headerlink" href="#instance-stop" title="Permanent link">&para;</a></h3>
<p>Stop EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-stop instance-id [instance-id]

$ instances postgres | instance-stop

i-a8b8dd6783e1a40cc  PreviousState=running  CurrentState=stopping
i-5d74753e210bfe04d  PreviousState=running  CurrentState=stopping
</code></pre></div>

<h3 id="instance-subnet">instance-subnet<a class="headerlink" href="#instance-subnet" title="Permanent link">&para;</a></h3>
<p>List subnet for EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-subnets instance-id [instance-id]
</code></pre></div>

<h3 id="instance-stop-protection">instance-stop-protection<a class="headerlink" href="#instance-stop-protection" title="Permanent link">&para;</a></h3>
<p>List current state of Stop Protection for EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-stop-protection instance-id [instance-id]

$ instances | instance-termination-protection
i-4e15ece1de1a3f869 DisableApiStop=true
i-89cefa9403373d7a5 DisableApiStop=false
i-806d8f1592e2a2efd DisableApiStop=false
i-61e86ac6be1e2c193 DisableApiStop=false
</code></pre></div>

<h3 id="instance-stop-protection-disable">instance-stop-protection-disable<a class="headerlink" href="#instance-stop-protection-disable" title="Permanent link">&para;</a></h3>
<p>Disable EC2 Instance stop protection</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-stop-protection-disable instance-id [instance-id]
</code></pre></div>

<h3 id="instance-stop-protection-enable">instance-stop-protection-enable<a class="headerlink" href="#instance-stop-protection-enable" title="Permanent link">&para;</a></h3>
<p>Enable EC2 Instance stop protection</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-stop-protection-enable instance-id [instance-id]
</code></pre></div>

<h3 id="instance-tags">instance-tags<a class="headerlink" href="#instance-tags" title="Permanent link">&para;</a></h3>
<p>List tags applied EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-tags instance-id [instance-id]
</code></pre></div>

<h3 id="instance-tag">instance-tag<a class="headerlink" href="#instance-tag" title="Permanent link">&para;</a></h3>
<p>List named tag on EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-tag key instance-id [instance-id]
</code></pre></div>

<h3 id="instance-tag-create">instance-tag-create<a class="headerlink" href="#instance-tag-create" title="Permanent link">&para;</a></h3>
<p>Create/update tag on EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-tag-create key value instance [instance]
</code></pre></div>

<h3 id="instance-tag-delete">instance-tag-delete<a class="headerlink" href="#instance-tag-delete" title="Permanent link">&para;</a></h3>
<p>Delete tag from EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-tag-delete key instance [instance]
</code></pre></div>

<h3 id="instance-terminate">instance-terminate<a class="headerlink" href="#instance-terminate" title="Permanent link">&para;</a></h3>
<p>Terminate EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-terminate instance-id [instance-id]

$ instances | head -3 | instance-terminate
You are about to terminate the following instances:
i-01c7edb986c18c16a  ami-0119aa4d67e59007c  t3.nano  terminated  asg2  2019-12-13T03:37:51.000Z  ap-southeast-2c  None
i-012dded46894dfa04  ami-0119aa4d67e59007c  t3.nano  running     ec2   2019-12-13T10:12:55.000Z  ap-southeast-2b  vpc-deb8edb9
Are you sure you want to continue? y
i-06ee900565652ecc5  PreviousState=terminated  CurrentState=terminated
i-01c7edb986c18c16a  PreviousState=terminated  CurrentState=terminated
i-012dded46894dfa04  PreviousState=running     CurrentState=shutting-down
</code></pre></div>

<h3 id="instance-termination-protection">instance-termination-protection<a class="headerlink" href="#instance-termination-protection" title="Permanent link">&para;</a></h3>
<p>List current state of Termination Protection for EC2 Instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-termination-protection instance-id [instance-id]

$ instances | instance-termination-protection
i-4e15ece1de1a3f869 DisableApiTermination=true
i-89cefa9403373d7a5 DisableApiTermination=false
i-806d8f1592e2a2efd DisableApiTermination=false
i-61e86ac6be1e2c193 DisableApiTermination=false
</code></pre></div>

<h3 id="instance-termination-protection-disable">instance-termination-protection-disable<a class="headerlink" href="#instance-termination-protection-disable" title="Permanent link">&para;</a></h3>
<p>Disable EC2 Instance termination protection</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-termination-protection-disable instance-id [instance-id]
</code></pre></div>

<h3 id="instance-termination-protection-enable">instance-termination-protection-enable<a class="headerlink" href="#instance-termination-protection-enable" title="Permanent link">&para;</a></h3>
<p>Enable EC2 Instance termination protection</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-termination-protection-enable instance-id [instance-id]
</code></pre></div>

<h3 id="instance-type">instance-type<a class="headerlink" href="#instance-type" title="Permanent link">&para;</a></h3>
<p>List type of instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-type instance-id [instance-id]

$ instances | instance-type
i-4e15ece1de1a3f869  t3.nano
i-89cefa9403373d7a5  t3.nano
i-806d8f1592e2a2efd  t3.nano
i-61e86ac6be1e2c193  t3.nano
</code></pre></div>

<h3 id="instance-userdata">instance-userdata<a class="headerlink" href="#instance-userdata" title="Permanent link">&para;</a></h3>
<p>List userdata for instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-userdata instance-id [instance-id]
</code></pre></div>

<h3 id="instance-volumes">instance-volumes<a class="headerlink" href="#instance-volumes" title="Permanent link">&para;</a></h3>
<p>List volumes of instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-volumes instance-id [instance-id]

$ instances postgres | instance-volumes
i-89cefa9403373d7a5  vol-cf5ddae9
i-806d8f1592e2a2efd  vol-38fd45c3
</code></pre></div>

<h3 id="instance-vpc">instance-vpc<a class="headerlink" href="#instance-vpc" title="Permanent link">&para;</a></h3>
<p>List VPC of instance(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: instance-vpcs instance-id [instance-id]
</code></pre></div>

<h2 id="asg-commands">asg-commands<a class="headerlink" href="#asg-commands" title="Permanent link">&para;</a></h2>
<h3 id="asg-detach-instances">asg-detach-instances<a class="headerlink" href="#asg-detach-instances" title="Permanent link">&para;</a></h3>
<p>Detach all instances from asg(s)</p>
<h3 id="asgs">asgs<a class="headerlink" href="#asgs" title="Permanent link">&para;</a></h3>
<p>List EC2 Autoscaling Groups</p>
<h3 id="asg-capacity">asg-capacity<a class="headerlink" href="#asg-capacity" title="Permanent link">&para;</a></h3>
<p>List min, desired and maximum capacities of EC2 Autoscaling Group(s)</p>
<h3 id="asg-desired-size-set">asg-desired-size-set<a class="headerlink" href="#asg-desired-size-set" title="Permanent link">&para;</a></h3>
<p>Set desired capacity of autoscaling group(s)</p>
<h3 id="asg-instances">asg-instances<a class="headerlink" href="#asg-instances" title="Permanent link">&para;</a></h3>
<p>List instances of autoscaling group(s)</p>
<h3 id="asg-launch-configuration">asg-launch-configuration<a class="headerlink" href="#asg-launch-configuration" title="Permanent link">&para;</a></h3>
<p>List Launch Configurations of Autoscaling Group(s)</p>
<h3 id="launch-configurations">launch-configurations<a class="headerlink" href="#launch-configurations" title="Permanent link">&para;</a></h3>
<p>List Launch Configurations</p>
<h3 id="launch-configuration-asgs">launch-configuration-asgs<a class="headerlink" href="#launch-configuration-asgs" title="Permanent link">&para;</a></h3>
<p>List EC2 Autoscaling Groups of Launch Configuration(s)</p>
<h3 id="asg-max-size-set">asg-max-size-set<a class="headerlink" href="#asg-max-size-set" title="Permanent link">&para;</a></h3>
<p>Set maximum size of autoscaling group(s)</p>
<h3 id="asg-min-size-set">asg-min-size-set<a class="headerlink" href="#asg-min-size-set" title="Permanent link">&para;</a></h3>
<p>Set minimum size of autoscaling group(s)</p>
<h3 id="asg-processes_suspended">asg-processes_suspended<a class="headerlink" href="#asg-processes_suspended" title="Permanent link">&para;</a></h3>
<p>List suspended processes of an autoscaling group</p>
<h3 id="asg-resume">asg-resume<a class="headerlink" href="#asg-resume" title="Permanent link">&para;</a></h3>
<p>Resume all processes of an autoscaling group</p>
<h3 id="asg-suspend">asg-suspend<a class="headerlink" href="#asg-suspend" title="Permanent link">&para;</a></h3>
<p>Suspend all processes of an autoscaling group</p>
<h3 id="asg-stack">asg-stack<a class="headerlink" href="#asg-stack" title="Permanent link">&para;</a></h3>
<p>List CloudFormation stack for asg(s)</p>
<h3 id="asg-scaling-activities">asg-scaling-activities<a class="headerlink" href="#asg-scaling-activities" title="Permanent link">&para;</a></h3>
<p>List scaling activities for Autoscaling Group(s)</p>
<p>azure.azcli</p>
<h2 id="azure-commands">azure-commands<a class="headerlink" href="#azure-commands" title="Permanent link">&para;</a></h2>
<h3 id="debug">debug<a class="headerlink" href="#debug" title="Permanent link">&para;</a></h3>
<p>Construct a string to be passed to <code>grep -E</code></p>
<div class="codehilite"><pre><span></span><code>foo|bar|baz
</code></pre></div>

<h3 id="skim-stdin-tsv">skim-stdin-tsv<a class="headerlink" href="#skim-stdin-tsv" title="Permanent link">&para;</a></h3>
<h3 id="skim-stdin-bma">skim-stdin-bma<a class="headerlink" href="#skim-stdin-bma" title="Permanent link">&para;</a></h3>
<p>Append first token from each line of STDIN to argument list</p>
<p>Implementation of <code>pipe-skimming</code> pattern.</p>
<div class="codehilite"><pre><span></span><code>$ stacks | skim-stdin foo bar
foo bar huginn mastodon grafana

$ stacks
huginn    CREATE_COMPLETE  2020-01-11T06:18:46.905Z  NEVER_UPDATED  NOT_NESTED
mastodon  CREATE_COMPLETE  2020-01-11T06:19:31.958Z  NEVER_UPDATED  NOT_NESTED
grafana   CREATE_COMPLETE  2020-01-11T06:19:47.001Z  NEVER_UPDATED  NOT_NESTED
</code></pre></div>

<p>Typical usage within Bash-my-AWS functions:</p>
<div class="codehilite"><pre><span></span><code>local asg_names=$(skim-stdin &quot;$@&quot;) # Append to arg list
local asg_names=$(skim-stdin)      # Only draw from STDIN
</code></pre></div>

<h3 id="az-account">az-account<a class="headerlink" href="#az-account" title="Permanent link">&para;</a></h3>
<h3 id="az-user">az-user<a class="headerlink" href="#az-user" title="Permanent link">&para;</a></h3>
<h3 id="az-cache-items">az-cache-items<a class="headerlink" href="#az-cache-items" title="Permanent link">&para;</a></h3>
<h3 id="az-cache-item">az-cache-item<a class="headerlink" href="#az-cache-item" title="Permanent link">&para;</a></h3>
<p>Create arguments from output of az-cache-items() (if present)</p>
<h3 id="az-cache-item-delete">az-cache-item-delete<a class="headerlink" href="#az-cache-item-delete" title="Permanent link">&para;</a></h3>
<p>Create arguments from output of az-cache-items() (if present)</p>
<h3 id="locations">locations<a class="headerlink" href="#locations" title="Permanent link">&para;</a></h3>
<h3 id="location">location<a class="headerlink" href="#location" title="Permanent link">&para;</a></h3>
<h3 id="location-unset">location-unset<a class="headerlink" href="#location-unset" title="Permanent link">&para;</a></h3>
<h3 id="location-each">location-each<a class="headerlink" href="#location-each" title="Permanent link">&para;</a></h3>
<h3 id="resource-groups">resource-groups<a class="headerlink" href="#resource-groups" title="Permanent link">&para;</a></h3>
<h3 id="resource-group">resource-group<a class="headerlink" href="#resource-group" title="Permanent link">&para;</a></h3>
<h3 id="resource-group-export">resource-group-export<a class="headerlink" href="#resource-group-export" title="Permanent link">&para;</a></h3>
<h3 id="resource-group-unset">resource-group-unset<a class="headerlink" href="#resource-group-unset" title="Permanent link">&para;</a></h3>
<h3 id="resources">resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h3>
<h3 id="resourceids">resourceids<a class="headerlink" href="#resourceids" title="Permanent link">&para;</a></h3>
<h3 id="resource-show">resource-show<a class="headerlink" href="#resource-show" title="Permanent link">&para;</a></h3>
<h3 id="resource-diff">resource-diff<a class="headerlink" href="#resource-diff" title="Permanent link">&para;</a></h3>
<h3 id="resource-export">resource-export<a class="headerlink" href="#resource-export" title="Permanent link">&para;</a></h3>
<h3 id="service-principals">service-principals<a class="headerlink" href="#service-principals" title="Permanent link">&para;</a></h3>
<h3 id="management-groups">management-groups<a class="headerlink" href="#management-groups" title="Permanent link">&para;</a></h3>
<h3 id="subscriptions">subscriptions<a class="headerlink" href="#subscriptions" title="Permanent link">&para;</a></h3>
<h3 id="subscription">subscription<a class="headerlink" href="#subscription" title="Permanent link">&para;</a></h3>
<h3 id="subscription-unset">subscription-unset<a class="headerlink" href="#subscription-unset" title="Permanent link">&para;</a></h3>
<h3 id="subscription-each">subscription-each<a class="headerlink" href="#subscription-each" title="Permanent link">&para;</a></h3>
<p>Ported from BMA</p>
<h3 id="ad-groups">ad-groups<a class="headerlink" href="#ad-groups" title="Permanent link">&para;</a></h3>
<p>Usage: ad-users REMOTE_STARTS_WITH_FILTER LOCAL_FILTER</p>
<p>REMOTE_STARTS_WITH_FILTER: filters on start of userPrincipalName
LOCAL_FILTER: grep results</p>
<p><a href="https://learn.microsoft.com/en-us/graph/api/resources/user?view=graph-rest-1.0#properties">User Properties</a>
<a href="https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http">List Users</a>
columnise</p>
<h3 id="ad-group-members">ad-group-members<a class="headerlink" href="#ad-group-members" title="Permanent link">&para;</a></h3>
<p>List groups for AD User(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: ad-user-groups USER USER # object ID or principal name of the user

$ ad-users mike.bailey@bash-my-aws.org | ad-user-groups
</code></pre></div>

<h3 id="ad-users">ad-users<a class="headerlink" href="#ad-users" title="Permanent link">&para;</a></h3>
<p>Usage: ad-users REMOTE_STARTS_WITH_FILTER LOCAL_FILTER</p>
<p>REMOTE_STARTS_WITH_FILTER: filters on start of userPrincipalName
LOCAL_FILTER: grep results</p>
<p><a href="https://learn.microsoft.com/en-us/graph/api/resources/user?view=graph-rest-1.0#properties">User Properties</a>
<a href="https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http">List Users</a>
columnise</p>
<h3 id="function">function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h3>
<p>ad-user-upns</p>
<h3 id="function_1">function<a class="headerlink" href="#function_1" title="Permanent link">&para;</a></h3>
<p>ad-user-upns</p>
<h3 id="function_2">function<a class="headerlink" href="#function_2" title="Permanent link">&para;</a></h3>
<p>ad-user-names</p>
<h3 id="ad-users-graph">ad-users-graph<a class="headerlink" href="#ad-users-graph" title="Permanent link">&para;</a></h3>
<p>Usage: ad-users-graph REMOTE_STARTS_WITH_FILTER LOCAL_FILTER</p>
<p>REMOTE_STARTS_WITH_FILTER: filters on start of userPrincipalName
- https://learn.microsoft.com/en-us/cli/azure/format-output-azure-cli</p>
<p>Uses graph API - more functionaility than azcli but limited result count</p>
<p>$ time ad-users | wc -l
999
real    0m0.792s
user    0m0.311s
sys     0m0.047s</p>
<p><a href="https://learn.microsoft.com/en-us/graph/api/resources/user?view=graph-rest-1.0#properties">User Properties</a>
<a href="https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http">List Users</a>
columnise # Disabled to preserve tabs</p>
<h3 id="ad-user-groups">ad-user-groups<a class="headerlink" href="#ad-user-groups" title="Permanent link">&para;</a></h3>
<p>List groups for AD User(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: ad-user-groups USER USER # object ID or principal name of the user

$ ad-users mike.bailey@bash-my-aws.org | ad-user-groups
</code></pre></div>

<h3 id="ad-user-group-diff">ad-user-group-diff<a class="headerlink" href="#ad-user-group-diff" title="Permanent link">&para;</a></h3>
<h3 id="ad-apps">ad-apps<a class="headerlink" href="#ad-apps" title="Permanent link">&para;</a></h3>
<p>Usage: ad-apps REMOTE_FILTER LOCAL_FILTER</p>
<p>REMOTE_FILTER: filters on start of displayName
LOCAL_FILTER: grep results
columnise</p>
<h3 id="ad-app">ad-app<a class="headerlink" href="#ad-app" title="Permanent link">&para;</a></h3>
<p>Usage: ad-app APP [APP]</p>
<h3 id="_1"><a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>ad-app-signins</p>
<h3 id="ad-app-owners">ad-app-owners<a class="headerlink" href="#ad-app-owners" title="Permanent link">&para;</a></h3>
<p>Usage: ad-app-owners APP [APP]
    --query '[].[
      appId,
      displayName,
      createdDateTime
      ]'                \
    --output tsv"       |
  grep -E -- "$filters" |
  LC_ALL=C sort -t$'\t' -b -k 3</p>
<h3 id="function_3">function<a class="headerlink" href="#function_3" title="Permanent link">&para;</a></h3>
<p>connectors
Usage: connectors REMOTE_FILTER LOCAL_FILTER</p>
<p>REMOTE_FILTER: filters on start of machineName
LOCAL_FILTER: grep results</p>
<h3 id="function_4">function<a class="headerlink" href="#function_4" title="Permanent link">&para;</a></h3>
<p>connector-groups
Usage: connector-groups REMOTE_FILTER LOCAL_FILTER</p>
<p>REMOTE_FILTER: filters on start of displayName
LOCAL_FILTER: grep results</p>
<h3 id="function_5">function<a class="headerlink" href="#function_5" title="Permanent link">&para;</a></h3>
<p>connector-group-apps
Usage: connector-group-apps CONNECTOR_GROUP [CONNECTOR_GROUP]</p>
<h3 id="function_6">function<a class="headerlink" href="#function_6" title="Permanent link">&para;</a></h3>
<p>connector-group-members
Usage: connector-group-apps CONNECTOR_GROUP [CONNECTOR_GROUP]</p>
<h3 id="deployments-group">deployments-group<a class="headerlink" href="#deployments-group" title="Permanent link">&para;</a></h3>
<h3 id="afds">afds<a class="headerlink" href="#afds" title="Permanent link">&para;</a></h3>
<h3 id="afd-endpoints">afd-endpoints<a class="headerlink" href="#afd-endpoints" title="Permanent link">&para;</a></h3>
<h3 id="afd-routes">afd-routes<a class="headerlink" href="#afd-routes" title="Permanent link">&para;</a></h3>
<p>List routes of all endpoints for Front Door Profile(s)</p>
<h3 id="afd-custom-domains">afd-custom-domains<a class="headerlink" href="#afd-custom-domains" title="Permanent link">&para;</a></h3>
<h3 id="afd-custom-domains-validation-request">afd-custom-domains-validation-request<a class="headerlink" href="#afd-custom-domains-validation-request" title="Permanent link">&para;</a></h3>
<h3 id="afd-origin-groups">afd-origin-groups<a class="headerlink" href="#afd-origin-groups" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policies">afd-waf-policies<a class="headerlink" href="#afd-waf-policies" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policy-rules">afd-waf-policy-rules<a class="headerlink" href="#afd-waf-policy-rules" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policy">afd-waf-policy<a class="headerlink" href="#afd-waf-policy" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policy-rule-match-conditions">afd-waf-policy-rule-match-conditions<a class="headerlink" href="#afd-waf-policy-rule-match-conditions" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policy-rule-match-condition-values">afd-waf-policy-rule-match-condition-values<a class="headerlink" href="#afd-waf-policy-rule-match-condition-values" title="Permanent link">&para;</a></h3>
<h3 id="afd-waf-policy-rule-delete">afd-waf-policy-rule-delete<a class="headerlink" href="#afd-waf-policy-rule-delete" title="Permanent link">&para;</a></h3>
<h3 id="deployment-groups">deployment-groups<a class="headerlink" href="#deployment-groups" title="Permanent link">&para;</a></h3>
<h3 id="deployment-delete-danger">deployment-delete-danger<a class="headerlink" href="#deployment-delete-danger" title="Permanent link">&para;</a></h3>
<h2 id="cert-commands">cert-commands<a class="headerlink" href="#cert-commands" title="Permanent link">&para;</a></h2>
<h3 id="certs">certs<a class="headerlink" href="#certs" title="Permanent link">&para;</a></h3>
<p>List ACM Certificates</p>
<h3 id="certs-arn">certs-arn<a class="headerlink" href="#certs-arn" title="Permanent link">&para;</a></h3>
<p>Same as <code>certs</code> but with the ARN in first column</p>
<h3 id="cert-users">cert-users<a class="headerlink" href="#cert-users" title="Permanent link">&para;</a></h3>
<p>List resources using ACM Cert(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: cert-users cert-arn [cert-arn]
</code></pre></div>

<h3 id="cert-delete">cert-delete<a class="headerlink" href="#cert-delete" title="Permanent link">&para;</a></h3>
<p>Delete ACM Cert(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: cert-delete cert-arn [cert-arn]
</code></pre></div>

<h3 id="cert-ificate">cert-ificate<a class="headerlink" href="#cert-ificate" title="Permanent link">&para;</a></h3>
<p>Return Certificate for ACM Cert(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: cert-ificate cert-arn [cert-arn]
</code></pre></div>

<h3 id="cert-chain">cert-chain<a class="headerlink" href="#cert-chain" title="Permanent link">&para;</a></h3>
<p>Return Cert Chain for ACM Cert(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: cert-chain cert-arn [cert-arn]
</code></pre></div>

<h3 id="cert-verify">cert-verify<a class="headerlink" href="#cert-verify" title="Permanent link">&para;</a></h3>
<p>Verify ACM cert(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: cert-chain cert-arn [cert-arn]
</code></pre></div>

<p>Be quiet - makes it easier to scan with "cert-arns | cert_verify"</p>
<h2 id="cloudfront-commands">cloudfront-commands<a class="headerlink" href="#cloudfront-commands" title="Permanent link">&para;</a></h2>
<h3 id="distributions">distributions<a class="headerlink" href="#distributions" title="Permanent link">&para;</a></h3>
<p>List Cloudfront Distributions</p>
<h2 id="cloudtrail-commands">cloudtrail-commands<a class="headerlink" href="#cloudtrail-commands" title="Permanent link">&para;</a></h2>
<h3 id="cloudtrails">cloudtrails<a class="headerlink" href="#cloudtrails" title="Permanent link">&para;</a></h3>
<p>List Cloudtrails</p>
<div class="codehilite"><pre><span></span><code>$ cloudtrails
failmode    failmode-cloudtrail ap-southeast-2  IsMultiRegionTrail=true IncludeGlobalServiceEvents=true
</code></pre></div>

<h3 id="cloudtrail-status">cloudtrail-status<a class="headerlink" href="#cloudtrail-status" title="Permanent link">&para;</a></h3>
<p>List logging status of Cloudtrails</p>
<div class="codehilite"><pre><span></span><code>USAGE: cloudtrail-status cloudtrail [cloudtrail]
</code></pre></div>

<h2 id="ecr-commands">ecr-commands<a class="headerlink" href="#ecr-commands" title="Permanent link">&para;</a></h2>
<h3 id="ecr-repositories">ecr-repositories<a class="headerlink" href="#ecr-repositories" title="Permanent link">&para;</a></h3>
<p>List ECR Repositories</p>
<h3 id="ecr-repository-images">ecr-repository-images<a class="headerlink" href="#ecr-repository-images" title="Permanent link">&para;</a></h3>
<p>List images for ECR Repositories</p>
<h2 id="elb-commands">elb-commands<a class="headerlink" href="#elb-commands" title="Permanent link">&para;</a></h2>
<h3 id="elbs">elbs<a class="headerlink" href="#elbs" title="Permanent link">&para;</a></h3>
<p>List ELBs
Accepts LoadBalancer names on STDIN and converts to LoadBalancer names</p>
<div class="codehilite"><pre><span></span><code>$ elbs
elb-MyLoadBalancer-1FNISWJN0W6N9  2019-12-13T10:24:55.220Z
another-e-MyLoadBa-171CPCZF2E84T  2019-12-13T10:25:24.300Z
</code></pre></div>

<h3 id="elb-dnsname">elb-dnsname<a class="headerlink" href="#elb-dnsname" title="Permanent link">&para;</a></h3>
<p>List DNS Names of ELB(s)</p>
<div class="codehilite"><pre><span></span><code> USAGE: elb-dnsname load-balancer [load-balancer]

 $ elbs | elb-dnsname
 elb-MyLoadBalancer-1FNISWJN0W6N9  elb-MyLoadBalancer-1FNISWJN0W6N9-563832045.ap-southeast-2.elb.amazonaws.com
 another-e-MyLoadBa-171CPCZF2E84T  another-e-MyLoadBa-171CPCZF2E84T-1832721930.ap-southeast-2.elb.amazonaws.com
</code></pre></div>

<h3 id="elb-instances">elb-instances<a class="headerlink" href="#elb-instances" title="Permanent link">&para;</a></h3>
<p>List instances of ELB(s)</p>
<div class="codehilite"><pre><span></span><code> USAGE: elb-instances load-balancer [load-balancer]
</code></pre></div>

<h3 id="elb-stack">elb-stack<a class="headerlink" href="#elb-stack" title="Permanent link">&para;</a></h3>
<p>List CloudFormation stack names of ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-stack load-balancer [load-balancer]

$ elbs | elb-stack
elb          elb-MyLoadBalancer-1FNISWJN0W6N9
another-elb  another-e-MyLoadBa-171CPCZF2E84T
</code></pre></div>

<h3 id="elb-subnets">elb-subnets<a class="headerlink" href="#elb-subnets" title="Permanent link">&para;</a></h3>
<p>List subnets of ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-subnets load-balancer [load-balancer]

$ elbs | elb-subnets
rails-demo-ELB-FRBEQPCYSZQD  subnet-5e257318 subnet-7828cd0f subnet-c25fa0a7
huginn-ELB-BMD0QUX179PK      subnet-5e257318 subnet-7828cd0f subnet-c25fa0a7
prometheus-ELB-C0FGVLGQ64UH  subnet-5e257318 subnet-7828cd0f subnet-c25fa0a7
</code></pre></div>

<h3 id="elb-azs">elb-azs<a class="headerlink" href="#elb-azs" title="Permanent link">&para;</a></h3>
<p>List Availability Zones of ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-azs load-balancer [load-balancer]

$ elbs | elb-azs
rails-demo-ELB-FRBEQPCYSZQD  ap-southeast-2a ap-southeast-2b ap-southeast-2c
huginn-ELB-BMD0QUX179PK      ap-southeast-2a ap-southeast-2b ap-southeast-2c
</code></pre></div>

<h3 id="elb-tags">elb-tags<a class="headerlink" href="#elb-tags" title="Permanent link">&para;</a></h3>
<p>List tags applied ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-tags elb-id [elb-id]
</code></pre></div>

<h3 id="elb-tag">elb-tag<a class="headerlink" href="#elb-tag" title="Permanent link">&para;</a></h3>
<p>List named tag on ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-tag key elb-id [elb-id]
</code></pre></div>

<h2 id="elbv2-commands">elbv2-commands<a class="headerlink" href="#elbv2-commands" title="Permanent link">&para;</a></h2>
<h3 id="elbv2s">elbv2s<a class="headerlink" href="#elbv2s" title="Permanent link">&para;</a></h3>
<p>List EC2 ELBv2 load balancers (both Network and Application types)
Accepts Load Balancer names on STDIN and converts to Network Load Balancer names</p>
<div class="codehilite"><pre><span></span><code>$ elbv2s
bash-my-aws      network      internet-facing  active        2020-01-04T11:18:49.733Z
bash-my-aws-alb  application  internet-facing  provisioning  2020-01-04T11:29:45.030Z
</code></pre></div>

<h3 id="elbv2-dnsname">elbv2-dnsname<a class="headerlink" href="#elbv2-dnsname" title="Permanent link">&para;</a></h3>
<p>List DNS Names of elbv2(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elbv2-dnsname load-balancer [load-balancer]

$ elbv2s | elbv2-dnsname
bash-my-aws      bash-my-aws-c23c598688520e51.elb.ap-southeast-2.amazonaws.com
bash-my-aws-alb  bash-my-aws-alb-2036199590.ap-southeast-2.elb.amazonaws.com
</code></pre></div>

<h3 id="elbv2-subnets">elbv2-subnets<a class="headerlink" href="#elbv2-subnets" title="Permanent link">&para;</a></h3>
<p>List subnets of ELBv2(s) [Application and Network Load Balancers)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elbv2-subnets load-balancer [load-balancer]

$ elbv2s | elbv2-subnets
bash-my-aws      subnet-c25fa0a7
bash-my-aws-alb  subnet-7828cd0f subnet-c25fa0a7
</code></pre></div>

<h3 id="elbv2-azs">elbv2-azs<a class="headerlink" href="#elbv2-azs" title="Permanent link">&para;</a></h3>
<p>List Availability Zones of ELB(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elb-azs load-balancer [load-balancer]

$ elbv2s | elbv2-subnets
bash-my-aws      ap-southeast-2a
bash-my-aws-alb  ap-southeast-2a ap-southeast-2b
</code></pre></div>

<h3 id="elbv2-target-groups">elbv2-target-groups<a class="headerlink" href="#elbv2-target-groups" title="Permanent link">&para;</a></h3>
<p>List target groups of ELBv2(s) [Application and Network Load Balancers)</p>
<div class="codehilite"><pre><span></span><code>USAGE: elbv2-target-groups load-balancer [load-balancer]

$ elbv2s | elbv2-target-groups
bash-my-aws-nlb-tg  TCP   22   vpc-018d9739  bash-my-aws-nlb
bash-my-aws-alb-tg  HTTP  443  vpc-018d9739  bash-my-aws-alb
</code></pre></div>

<h2 id="iam-commands">iam-commands<a class="headerlink" href="#iam-commands" title="Permanent link">&para;</a></h2>
<h3 id="iam-roles">iam-roles<a class="headerlink" href="#iam-roles" title="Permanent link">&para;</a></h3>
<p>List IAM Roles</p>
<div class="codehilite"><pre><span></span><code>$ iam-roles
config-role-ap-southeast-2               AROAI3QHAU3J2CDRNLQHD  2017-02-02T03:03:02Z
AWSBatchServiceRole                      AROAJJWRGUPTRXTV52TED  2017-03-09T05:31:39Z
ecsInstanceRole                          AROAJFQ3WMZXESGIKW5YD  2017-03-09T05:31:39Z
</code></pre></div>

<h3 id="iam-role-principal">iam-role-principal<a class="headerlink" href="#iam-role-principal" title="Permanent link">&para;</a></h3>
<p>List role principal for IAM Role(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: iam-role-principal role-name [role-name]
</code></pre></div>

<h3 id="iam-users">iam-users<a class="headerlink" href="#iam-users" title="Permanent link">&para;</a></h3>
<p>List IAM Users</p>
<div class="codehilite"><pre><span></span><code>$ iam-users
config-role-ap-southeast-2               AROAI3QHAU3J2CDRNLQHD  2017-02-02T03:03:02Z
AWSBatchServiceRole                      AROAJJWRGUPTRXTV52TED  2017-03-09T05:31:39Z
ecsInstanceRole                          AROAJFQ3WMZXESGIKW5YD  2017-03-09T05:31:39Z
</code></pre></div>

<h2 id="image-commands">image-commands<a class="headerlink" href="#image-commands" title="Permanent link">&para;</a></h2>
<h3 id="images">images<a class="headerlink" href="#images" title="Permanent link">&para;</a></h3>
<p>List EC2 AMI's</p>
<p>Usage: images [owner] [image-id] [image-id]...</p>
<p>owner defaults to <code>self</code> or can one or more of:</p>
<ul>
<li>an AWS_ACCOUNT_ID  (e.g. 1234567890)</li>
<li>an AWS_OWNER_ALIAS (amazon, amazon-marketplace, microsoft)</li>
</ul>
<p>image_id can be one or more AMIs</p>
<p>Trialing a different approach for grabbing resource ids from input.
As normal, you can pipe resource ids in as first token on each line.
We treat all args that don't start with ami- as owner identifiers.</p>
<p>Trialing a new pattern for output - putting the Name at the end.
This is more like the output of <code>ls -la</code></p>
<ul>
<li>Pro: Preceding fields tend to be of the same length</li>
<li>Pro: Easier for eyes to scan final column for names(?)</li>
<li>Con: Using this pattern for instances() would put name past 80 char point</li>
<li>Con: Migrating instances() to this output is A Big Change (not made lightly)</li>
</ul>
<h3 id="image-deregister">image-deregister<a class="headerlink" href="#image-deregister" title="Permanent link">&para;</a></h3>
<p>Deregister AMI(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: image-deregister image_id [image_id]
</code></pre></div>

<h2 id="keypair-commands">keypair-commands<a class="headerlink" href="#keypair-commands" title="Permanent link">&para;</a></h2>
<h3 id="keypairs">keypairs<a class="headerlink" href="#keypairs" title="Permanent link">&para;</a></h3>
<p>List EC2 SSH Keypairs in current Region</p>
<div class="codehilite"><pre><span></span><code>$ keypairs
alice  8f:85:9a:1e:6c:76:29:34:37:45:de:7f:8d:f9:70:eb
bob    56:73:29:c2:ad:7b:6f:b6:f2:f3:b4:de:e4:2b:12:d4
</code></pre></div>

<h3 id="keypair-create">keypair-create<a class="headerlink" href="#keypair-create" title="Permanent link">&para;</a></h3>
<p>Create SSH Keypair on local machine and import public key into new EC2 Keypair.</p>
<p>Provides benefits over AWS creating the keypair:</p>
<ul>
<li>Amazon never has access to private key.</li>
<li>Private key is protected with passphrase before being written to disk.</li>
<li>Keys is written to ~/.ssh with correct file permissions.</li>
<li>
<p>You control the SSH Key type (algorithm, length, etc).</p>
<p>USAGE: keypair-create [key_name] [key_dir]</p>
<p>$ keypair-create yet-another-keypair
Creating /home/m/.ssh/yet-another-keypair
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/m/.ssh/yet-another-keypair.
Your public key has been saved in /home/m/.ssh/yet-another-keypair.pub.
The key fingerprint is:
SHA256:zIpbxLo7rpQvKyezOLATk96B1kSL0QP41q6x8tUrySk m@localhost.localdomain
The key's randomart image is:
+---[RSA 4096]----+
|..o              |
|.. +             |
| .+.o            |
| .oo.. o         |
| o+.  o S        |
|=o.+.= .         |
|+++==o+          |
|XoE+<em>+ .         |
|o@+</em>*+.          |
+----[SHA256]-----+
{
    "KeyFingerprint": "21:82:f9:5b:79:d6:dc:0f:7b:79:43:7c:c5:34:6c:2d",
    "KeyName": "yet-another-keypair"
}</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>KeyPair Name defaults to "$(aws-account-alias)-$(region)" if none provided</p>
</div>
<h3 id="keypair-delete">keypair-delete<a class="headerlink" href="#keypair-delete" title="Permanent link">&para;</a></h3>
<p>Delete EC2 SSH Keypairs by providing their names as arguments or via STDIN</p>
<div class="codehilite"><pre><span></span><code>USAGE: keypair-delete key_name [key_name]

$ keypair-delete alice bob
You are about to delete the following EC2 SSH KeyPairs:
alice
bob
Are you sure you want to continue? y

$ keypairs | keypair-delete
You are about to delete the following EC2 SSH KeyPairs:
yet-another-keypair
Are you sure you want to continue? y
</code></pre></div>

<h2 id="kms-commands">kms-commands<a class="headerlink" href="#kms-commands" title="Permanent link">&para;</a></h2>
<h3 id="kms-encrypt">kms-encrypt<a class="headerlink" href="#kms-encrypt" title="Permanent link">&para;</a></h3>
<p>Encrypt and base64 encode STDIN or file</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-encrypt key_id/alias_id [plaintext_file]

$ echo foobar | kms-encrypt alias/default
AQICAHgcyN4vd3V/OB7NKI6IMbpENEu1+UfyiU...
</code></pre></div>

<h3 id="kms-decrypt">kms-decrypt<a class="headerlink" href="#kms-decrypt" title="Permanent link">&para;</a></h3>
<p>base64 decode and decrypt KMS Encrypted file or STDIN</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-decrypt [ciphertext_file]

$ kms-decrypt ciphertext.txt
foobar

$ echo foobar | kms-encrypt alias/default | kms-decrypt
foobar
</code></pre></div>

<h3 id="kms-aliases">kms-aliases<a class="headerlink" href="#kms-aliases" title="Permanent link">&para;</a></h3>
<p>List KMS Aliases</p>
<div class="codehilite"><pre><span></span><code>$ kms-aliases default
alias/default  d714a175-db12-4574-8f27-aa071a1dfd8a  arn:aws:kms:ap-southeast-2:089834043791:alias/default
</code></pre></div>

<h3 id="kms-alias-create">kms-alias-create<a class="headerlink" href="#kms-alias-create" title="Permanent link">&para;</a></h3>
<p>Create alias for KMS Key</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-alias-create alias_name key_id

$ kms-keys | tail -1
d714a175-db12-4574-8f27-aa071a1dfd8a

$ kms-keys | tail -1 | kms-alias-create alias/foobar

$ kms-aliases foobar
alias/foobar  d714a175-db12-4574-8f27-aa071a1dfd8a  arn:aws:kms:ap-southeast-2:089834043791:alias/foobar
</code></pre></div>

<h3 id="kms-alias-delete">kms-alias-delete<a class="headerlink" href="#kms-alias-delete" title="Permanent link">&para;</a></h3>
<p>Delete alias for KMS Key</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-alias-delete alias_name [alias_name]

$ kms-aliases foobar | kms-alias-delete
You are about to delete the following kms aliases:
alias/foobar
Are you sure you want to continue? y
</code></pre></div>

<h3 id="kms-keys">kms-keys<a class="headerlink" href="#kms-keys" title="Permanent link">&para;</a></h3>
<p>List KMS Keys</p>
<div class="codehilite"><pre><span></span><code>$ kms-keys
5044958c-151d-4995-bed4-dd05c1385b48
8ada3e65-e377-4435-a709-fbe75dfa1dd0
d714a175-db12-4574-8f27-aa071a1dfd8a
</code></pre></div>

<h3 id="kms-key-create">kms-key-create<a class="headerlink" href="#kms-key-create" title="Permanent link">&para;</a></h3>
<p>Create a KMS Key</p>
<div class="codehilite"><pre><span></span><code>$ kms-key-create
9e94333b-8e85-497a-9791-e7c5edf9c35e
</code></pre></div>

<h3 id="kms-key-details">kms-key-details<a class="headerlink" href="#kms-key-details" title="Permanent link">&para;</a></h3>
<p>List details for KMS Key(s)</p>
<h3 id="kms-key-disable">kms-key-disable<a class="headerlink" href="#kms-key-disable" title="Permanent link">&para;</a></h3>
<p>Disable KMS Key(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-key-disable key_id [key_id]

$ kms-key-disable  9e94333b-8e85-497a-9791-e7c5edf9c35e
</code></pre></div>

<h3 id="kms-key-enable">kms-key-enable<a class="headerlink" href="#kms-key-enable" title="Permanent link">&para;</a></h3>
<p>Enable KMS Key(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: kms-key-enable key_id [key_id]

$ kms-key-enable  9e94333b-8e85-497a-9791-e7c5edf9c35e
</code></pre></div>

<h2 id="lambda-commands">lambda-commands<a class="headerlink" href="#lambda-commands" title="Permanent link">&para;</a></h2>
<h3 id="lambda-functions">lambda-functions<a class="headerlink" href="#lambda-functions" title="Permanent link">&para;</a></h3>
<p>List lambda functions</p>
<div class="codehilite"><pre><span></span><code>$ lambda-functions
stars    2019-12-18T10:00:00.000+0000  python2.7  256
stripes  2019-12-19T10:21:42.444+0000  python3.7  128
</code></pre></div>

<h3 id="lambda-function-memory">lambda-function-memory<a class="headerlink" href="#lambda-function-memory" title="Permanent link">&para;</a></h3>
<p>List memorySize for lambda function(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: lambda-function-memory function [function]
</code></pre></div>

<h3 id="lambda-function-memory-set">lambda-function-memory-set<a class="headerlink" href="#lambda-function-memory-set" title="Permanent link">&para;</a></h3>
<p>Update memorySize for lambda function(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: lambda-function-memory-set memory function [function]
</code></pre></div>

<h3 id="lambda-function-memory-step">lambda-function-memory-step<a class="headerlink" href="#lambda-function-memory-step" title="Permanent link">&para;</a></h3>
<p>Repeatedly update memorySize for lambda function(s)</p>
<p>Useful for measuring impact of memory on cost/performance.
The function increases memorySize by 64KB every two minutes
until it reaches the value requested. There is a two minute
delay between increases to provide time to collect data from
function execution.</p>
<div class="codehilite"><pre><span></span><code>USAGE: lambda-function-memory-step memory function [function]
</code></pre></div>

<h3 id="lambda-function-logs">lambda-function-logs<a class="headerlink" href="#lambda-function-logs" title="Permanent link">&para;</a></h3>
<h2 id="log-commands">log-commands<a class="headerlink" href="#log-commands" title="Permanent link">&para;</a></h2>
<h3 id="log-groups">log-groups<a class="headerlink" href="#log-groups" title="Permanent link">&para;</a></h3>
<p>List CloudWatch Log Groups</p>
<div class="codehilite"><pre><span></span><code>$ log-groups
/aws/lambda/stars2  1576495961429  0   11736
/aws/lambda/stars   1576566745961  0  107460
/aws/lambda/walk    1576567300172  0   11794
</code></pre></div>

<h2 id="rds-commands">rds-commands<a class="headerlink" href="#rds-commands" title="Permanent link">&para;</a></h2>
<h3 id="rds-db-instances">rds-db-instances<a class="headerlink" href="#rds-db-instances" title="Permanent link">&para;</a></h3>
<p>List RDS Database Instances
Tip: Filter on whether DB is in cluster with: <code>awk -F'\t' '$6 != "None"'</code></p>
<h3 id="rds-db-clusters">rds-db-clusters<a class="headerlink" href="#rds-db-clusters" title="Permanent link">&para;</a></h3>
<p>List RDS Database Clusters</p>
<h2 id="route53-commands">route53-commands<a class="headerlink" href="#route53-commands" title="Permanent link">&para;</a></h2>
<h3 id="hosted-zones">hosted-zones<a class="headerlink" href="#hosted-zones" title="Permanent link">&para;</a></h3>
<p>List Route53 Hosted Zones</p>
<div class="codehilite"><pre><span></span><code>$ hosted-zones
/hostedzone/Z3333333333333  5   NotPrivateZone  bash-my-aws.org.
/hostedzone/Z5555555555555  2   NotPrivateZone  bash-my-universe.com.
/hostedzone/Z4444444444444  3   NotPrivateZone  bashmyaws.org.
/hostedzone/Z1111111111111  3   NotPrivateZone  bash-my-aws.com.
/hostedzone/Z2222222222222  3   NotPrivateZone  bashmyaws.com.
</code></pre></div>

<h3 id="hosted-zone-ns-records">hosted-zone-ns-records<a class="headerlink" href="#hosted-zone-ns-records" title="Permanent link">&para;</a></h3>
<p>Generate NS records for delegating domain to AWS</p>
<div class="codehilite"><pre><span></span><code>$ hosted-zones bash-my-aws.org
/hostedzone/ZJ6ZCG2UD6OKX  5  NotPrivateZone  bash-my-aws.org.

$ hosted-zones bash-my-aws.org | hosted-zone-ns-records
bash-my-aws.org. 300 IN NS  ns-786.awsdns-34.net.
bash-my-aws.org. 300 IN NS  ns-1549.awsdns-01.co.uk.
bash-my-aws.org. 300 IN NS  ns-362.awsdns-45.com.
bash-my-aws.org. 300 IN NS  ns-1464.awsdns-55.org.
</code></pre></div>

<h2 id="s3-commands">s3-commands<a class="headerlink" href="#s3-commands" title="Permanent link">&para;</a></h2>
<h3 id="buckets">buckets<a class="headerlink" href="#buckets" title="Permanent link">&para;</a></h3>
<p>List S3 Buckets</p>
<div class="codehilite"><pre><span></span><code>$ buckets
web-assets  2019-12-20  08:24:38.182045
backups     2019-12-20  08:24:44.351215
archive     2019-12-20  08:24:57.567652
</code></pre></div>

<h3 id="bucket-acls">bucket-acls<a class="headerlink" href="#bucket-acls" title="Permanent link">&para;</a></h3>
<p>List S3 Bucket Access Control Lists.</p>
<div class="codehilite"><pre><span></span><code>$ bucket-acls another-example-bucket
another-example-bucket
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The only recommended use case for the bucket ACL is to grant write
permission to the Amazon S3 Log Delivery group to write access log
objects to your bucket. <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/access-policy-alternatives-guidelines.html">AWS docs</a></p>
</div>
<h3 id="bucket-remove">bucket-remove<a class="headerlink" href="#bucket-remove" title="Permanent link">&para;</a></h3>
<p>Remove an empty S3 Bucket.</p>
<p><em>In this example the bucket is not empty.</em></p>
<div class="codehilite"><pre><span></span><code>$ bucket-remove another-example-bucket
You are about to remove the following buckets:
another-example-bucket  2019-12-07  06:51:12.022496
Are you sure you want to continue? y
remove_bucket failed: s3://another-example-bucket An error occurred (BucketNotEmpty) when calling the DeleteBucket operation: The bucket you tried to delete is not empty
</code></pre></div>

<h3 id="bucket-remove-force">bucket-remove-force<a class="headerlink" href="#bucket-remove-force" title="Permanent link">&para;</a></h3>
<p>Remove an S3 Bucket, and delete all objects if it's not empty.</p>
<div class="codehilite"><pre><span></span><code>$ bucket-remove-force another-example-bucket
You are about to delete all objects from and remove the following buckets:
another-example-bucket  2019-12-07  06:51:12.022496
Are you sure you want to continue? y
delete: s3://another-example-bucket/aliases
remove_bucket: another-example-bucket
</code></pre></div>

<h2 id="secretsmanager-commands">secretsmanager-commands<a class="headerlink" href="#secretsmanager-commands" title="Permanent link">&para;</a></h2>
<h3 id="secrets">secrets<a class="headerlink" href="#secrets" title="Permanent link">&para;</a></h3>
<h2 id="sts-commands">sts-commands<a class="headerlink" href="#sts-commands" title="Permanent link">&para;</a></h2>
<h3 id="sts-assume-role">sts-assume-role<a class="headerlink" href="#sts-assume-role" title="Permanent link">&para;</a></h3>
<p>Assume an IAM Role</p>
<div class="codehilite"><pre><span></span><code>USAGE: sts-assume-role role_arn
</code></pre></div>

<h2 id="tag-commands">tag-commands<a class="headerlink" href="#tag-commands" title="Permanent link">&para;</a></h2>
<h3 id="tag-keys">tag-keys<a class="headerlink" href="#tag-keys" title="Permanent link">&para;</a></h3>
<p>List unique set of tag keys in AWS Account / Region</p>
<div class="codehilite"><pre><span></span><code>USAGE: tag-keys
</code></pre></div>

<h3 id="tag-values">tag-values<a class="headerlink" href="#tag-values" title="Permanent link">&para;</a></h3>
<p>List unique set of tag values for key in AWS Account / Region</p>
<div class="codehilite"><pre><span></span><code>USAGE: tag-values key
</code></pre></div>

<h2 id="target-group-commands">target-group-commands<a class="headerlink" href="#target-group-commands" title="Permanent link">&para;</a></h2>
<h3 id="target-groups">target-groups<a class="headerlink" href="#target-groups" title="Permanent link">&para;</a></h3>
<p>List EC2 ELBv2 target groups</p>
<div class="codehilite"><pre><span></span><code>$ target-groups
bash-my-aws-nlb-tg  TCP   22   vpc-04636ebe5573f6f65  instance  bash-my-aws-nlb
bash-my-aws-alb-tg  HTTP  443  vpc-04636ebe5573f6f65  instance  bash-my-aws-alb
</code></pre></div>

<h3 id="target-group-targets">target-group-targets<a class="headerlink" href="#target-group-targets" title="Permanent link">&para;</a></h3>
<p>List EC2 ELBv2 target group targets
Accepts Target Group names on stdin or as arguments</p>
<div class="codehilite"><pre><span></span><code>$ target-group-targets bash-my-aws-nlb-tg
i-4e15ece1de1a3f869  443  healthy    bash-my-aws-nlb-tg
i-89cefa9403373d7a5  443  unhealthy  bash-my-aws-nlb-tg
</code></pre></div>

<h2 id="vpc-commands">vpc-commands<a class="headerlink" href="#vpc-commands" title="Permanent link">&para;</a></h2>
<h3 id="pcxs">pcxs<a class="headerlink" href="#pcxs" title="Permanent link">&para;</a></h3>
<p>List VPC Peering connections</p>
<h3 id="subnets">subnets<a class="headerlink" href="#subnets" title="Permanent link">&para;</a></h3>
<p>List subnets for all VPCs</p>
<div class="codehilite"><pre><span></span><code>$ subnets
subnet-34fd9cfa  vpc-018d9739  ap-southeast-2c  172.31.32.0/20  NO_NAME
subnet-8bb774fe  vpc-018d9739  ap-southeast-2a  172.31.0.0/20   NO_NAME
subnet-9eea2c07  vpc-018d9739  ap-southeast-2b  172.31.16.0/20  NO_NAME
</code></pre></div>

<h3 id="vpcs">vpcs<a class="headerlink" href="#vpcs" title="Permanent link">&para;</a></h3>
<p>List VPCs</p>
<div class="codehilite"><pre><span></span><code>$ vpcs
vpc-018d9739  default-vpc  NO_NAME  172.31.0.0/16  NO_STACK  NO_VERSION
</code></pre></div>

<h3 id="vpc-azs">vpc-azs<a class="headerlink" href="#vpc-azs" title="Permanent link">&para;</a></h3>
<p>List availability zones of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-azs vpc-id [vpc-id]

$ vpcs | vpc-azs
vpc-018d9739 ap-southeast-2a ap-southeast-2b ap-southeast-2c
</code></pre></div>

<h3 id="vpc-az-count">vpc-az-count<a class="headerlink" href="#vpc-az-count" title="Permanent link">&para;</a></h3>
<p>List number of Availability Zones of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-az-count vpc-id [vpc-id]

$ vpcs | vpc-az-count
vpc-018d9739 3
</code></pre></div>

<h3 id="vpc-lambda-functions">vpc-lambda-functions<a class="headerlink" href="#vpc-lambda-functions" title="Permanent link">&para;</a></h3>
<p>List lambda functions of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-lambda-functions vpc-id [vpc-id]
</code></pre></div>

<h3 id="vpc-dhcp-options-ntp">vpc-dhcp-options-ntp<a class="headerlink" href="#vpc-dhcp-options-ntp" title="Permanent link">&para;</a></h3>
<p>List NTP servers of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-dhcp-options-ntp vpc-id [vpc-id]
</code></pre></div>

<h3 id="vpc-endpoints">vpc-endpoints<a class="headerlink" href="#vpc-endpoints" title="Permanent link">&para;</a></h3>
<p>List VPC Endpoints</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-endpoints [filter]
</code></pre></div>

<h3 id="vpc-endpoint-services">vpc-endpoint-services<a class="headerlink" href="#vpc-endpoint-services" title="Permanent link">&para;</a></h3>
<p>List available VPC endpoint services</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-endpoint-services
</code></pre></div>

<h3 id="vpc-igw">vpc-igw<a class="headerlink" href="#vpc-igw" title="Permanent link">&para;</a></h3>
<p>List Internet Gateway of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-igw vpc-id [vpc-id]
</code></pre></div>

<h3 id="vpc-route-tables">vpc-route-tables<a class="headerlink" href="#vpc-route-tables" title="Permanent link">&para;</a></h3>
<p>List Route Tables of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-route-tables vpc-id [vpc-id]

$ vpcs | vpc-route-tables
rtb-8e841c39  vpc-018d9739  NO_NAME
</code></pre></div>

<h3 id="vpc-nat-gateways">vpc-nat-gateways<a class="headerlink" href="#vpc-nat-gateways" title="Permanent link">&para;</a></h3>
<p>List NAT Gateways of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-nat-gateways vpc-id [vpc-id]
</code></pre></div>

<h3 id="vpc-subnets">vpc-subnets<a class="headerlink" href="#vpc-subnets" title="Permanent link">&para;</a></h3>
<p>List subnets of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-subnets vpc-id [vpc-id]

$ vpcs | vpc-subnets
subnet-34fd9cfa  vpc-018d9739  ap-southeast-2c  172.31.32.0/20  NO_NAME
subnet-8bb774fe  vpc-018d9739  ap-southeast-2a  172.31.0.0/20   NO_NAME
subnet-9eea2c07  vpc-018d9739  ap-southeast-2b  172.31.16.0/20  NO_NAME
</code></pre></div>

<h3 id="vpc-network-acls">vpc-network-acls<a class="headerlink" href="#vpc-network-acls" title="Permanent link">&para;</a></h3>
<p>List Network ACLs of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-network-acls vpc-id [vpc-id]

$ vpcs | vpc-network-acls
acl-ff4914d1  vpc-018d9739
</code></pre></div>

<h3 id="vpc-rds">vpc-rds<a class="headerlink" href="#vpc-rds" title="Permanent link">&para;</a></h3>
<p>List RDS instances of VPC(s)</p>
<div class="codehilite"><pre><span></span><code>USAGE: vpc-rds vpc-id [vpc-id]
</code></pre></div>

<h3 id="vpc-default-delete">vpc-default-delete<a class="headerlink" href="#vpc-default-delete" title="Permanent link">&para;</a></h3>
<p>Print commands you would need to run to delete that pesky default VPC
Exclude default VPCs that contain:
- instances
- lambda functions</p>
<div class="codehilite"><pre><span></span><code>$ vpc-default-delete

# Deleting default VPC vpc-018d9739 in ap-southeast-2
aws --region ap-southeast-2 ec2 delete-subnet --subnet-id=subnet-8bb774fe
aws --region ap-southeast-2 ec2 delete-subnet --subnet-id=subnet-9eea2c07
aws --region ap-southeast-2 ec2 delete-subnet --subnet-id=subnet-34fd9cfa
aws --region ap-southeast-2 ec2 delete-vpc --vpc-id=vpc-018d9739
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>